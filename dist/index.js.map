{
  "version": 3,
  "sources": ["../ts/utils/vector2.ts", "../ts/utils/elementPosition.ts", "../ts/utils/elementZoom.ts", "../ts/utils/elementSize.ts", "../ts/utils/elementVisible.ts", "../ts/utils/element.ts", "../ts/dom/domElement.ts", "../ts/canvas/canvasElement.ts", "../ts/canvas/canvasWrapper.ts", "../ts/dom/domText.ts", "../ts/utils/debug/fps.ts", "../ts/utils/ticker.ts", "../ts/utils/event.ts", "../ts/utils/input.ts", "../ts/dom/domCanvas.ts", "../ts/canvas/canvasColor.ts", "../ts/canvas/canvasSquare.ts", "../ts/canvas/canvasBackground.ts", "../ts/utils/mode.ts", "../ts/utils/collider.ts", "../ts/utils/level.ts", "../ts/canvas/canvasAnimation.ts", "../ts/canvas/canvasImage.ts", "../ts/canvas/prepImage.ts", "../ts/canvas/spritesheet.ts", "../ts/utils/character.ts", "../ts/utils/utils.ts", "../ts/utils/controller.ts", "../ts/modes/snakeMode/controllers/cameraController.ts", "../ts/modes/side/character/SideCharacter.ts", "../ts/utils/collisions.ts", "../ts/modes/side/character/SideController.ts", "../ts/modes/side/levels/locomotive.ts", "../ts/modes/side/levels/perspectiveDrawer.ts", "../ts/modes/side/levels/scrolling.ts", "../ts/canvas/canvasCustom.ts", "../ts/modes/side/npcs/walkingNPC.ts", "../ts/modes/side/npcs/npcOld.ts", "../ts/modes/side/npcs/idleNPC.ts", "../ts/modes/side/npcs/npcWoman.ts", "../ts/modes/side/levels/trainDoor.ts", "../ts/modes/side/levels/trainCar.ts", "../ts/modes/side/levels/train.ts", "../ts/modes/side/SideMode.ts", "../ts/utils/debug/loader.ts", "../ts/game.ts", "../ts/index.ts"],
  "sourcesContent": ["export class Vector2 {\r\n\tx: number;\r\n\ty: number;\r\n\tstatic Vector2: {};\r\n\tconstructor(x: number, y: number) {\r\n\t\tthis.x = (x === undefined) ? 0 : x;\r\n\t\tthis.y = (y === undefined) ? 0 : y;\r\n\t}\r\n\r\n\tclone(): Vector2 {\r\n\t\treturn new Vector2(this.x, this.y);\r\n\t}\r\n\r\n\tadd(vector: Vector2) {\r\n\t\treturn new Vector2(this.x + vector.x, this.y + vector.y);\r\n\t}\r\n\r\n\tmultiply(vector: Vector2) {\r\n\t\treturn new Vector2(this.x * vector.x, this.y * vector.y);\r\n\t}\r\n\r\n\tsubtract(vector: Vector2) {\r\n\t\treturn new Vector2(this.x - vector.x, this.y - vector.y);\r\n\t}\r\n\r\n\tscale(scalar: number) {\r\n\t\treturn new Vector2(this.x * scalar, this.y * scalar);\r\n\t}\r\n\r\n\tdot(vector: Vector2) {\r\n\t\treturn (this.x * vector.x + this.y + vector.y);\r\n\t}\r\n\r\n\tmoveTowards(vector: Vector2, t: number) {\r\n\t\tt = Math.min(t, 1); // still allow negative t\r\n\t\tvar diff = vector.subtract(this);\r\n\t\treturn this.add(diff.scale(t));\r\n\t}\r\n\r\n\tmagnitude() {\r\n\t\treturn Math.sqrt(this.magnitudeSqr());\r\n\t}\r\n\r\n\tmagnitudeSqr() {\r\n\t\treturn (this.x * this.x + this.y * this.y);\r\n\t}\r\n\r\n\tdistance(vector: Vector2) {\r\n\t\treturn Math.sqrt(this.distanceSqr(vector));\r\n\t}\r\n\r\n\tdistanceSqr(vector: Vector2) {\r\n\t\tvar deltaX = this.x - vector.x;\r\n\t\tvar deltaY = this.y - vector.y;\r\n\t\treturn (deltaX * deltaX + deltaY * deltaY);\r\n\t}\r\n\r\n\tnormalize() {\r\n\t\tvar mag = this.magnitude();\r\n\t\tvar vector = this.clone();\r\n\t\tif (Math.abs(mag) < 1e-9) {\r\n\t\t\tvector.x = 0;\r\n\t\t\tvector.y = 0;\r\n\t\t} else {\r\n\t\t\tvector.x /= mag;\r\n\t\t\tvector.y /= mag;\r\n\t\t}\r\n\t\treturn vector;\r\n\t}\r\n\r\n\tangleDegrees() {\r\n\t\treturn this.angle() * (180/Math.PI);\r\n\t}\r\n\r\n\tangle() {\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\r\n\r\n\trotate(rad: number) {\r\n\t\tvar cos = Math.cos(rad);\r\n\t\tvar sin = Math.sin(rad);\r\n\t\treturn new Vector2(\r\n\t\t\tthis.x * cos - this.y * sin,\r\n\t\t\tthis.x * sin + this.y * cos\r\n\t\t);\r\n\t}\r\n\r\n\ttoPrecision(precision: number) {\r\n\t\tvar vector = this.clone();\r\n\t\tvector.x = +vector.x.toFixed(precision);\r\n\t\tvector.y = +vector.y.toFixed(precision);\r\n\t\treturn vector;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tvar vector = this.toPrecision(1);\r\n\t\treturn (\"[\" + vector.x + \"; \" + vector.y + \"]\");\r\n\t}\r\n\r\n\tpublic clamp(min:Vector2, max:Vector2) {\r\n\t\treturn Vector2.clamp(this, min, max);\r\n    }\r\n\r\n\tpublic static min(a:Vector2, b:Vector2) {\r\n        return new Vector2(\r\n\t\t\tMath.min(a.x, b.x),\r\n\t\t\tMath.min(a.y, b.y),\r\n\t\t)\r\n    }\r\n\r\n\tpublic static max(a:Vector2, b:Vector2) {\r\n\t\treturn new Vector2(\r\n\t\t\tMath.max(a.x, b.x),\r\n\t\t\tMath.max(a.y, b.y),\r\n\t\t)\r\n    }\r\n\r\n\tpublic static clamp(value:Vector2, min:Vector2, max:Vector2) {\r\n        return Vector2.max(Vector2.min(value, min), max);\r\n    }\r\n\r\n\tpublic clampMagnitute(mag: number) {\r\n\t\treturn Vector2.clampMagnitute(this, mag);\r\n    }\r\n\r\n\tpublic static clampMagnitute(value:Vector2, mag: number) {\r\n\t\tvar ratio = value.magnitude() / mag;\r\n\t\treturn new Vector2(value.x / ratio, value.y / ratio);\r\n    }\r\n\r\n\tstatic get zero() {\r\n\t\treturn new Vector2(0, 0);\r\n\t}\r\n\tstatic get down() {\r\n\t\treturn new Vector2(0, -1);\r\n\t}\r\n\tstatic get up() {\r\n\t\treturn new Vector2(0, 1);\r\n\t}\r\n\tstatic get right() {\r\n\t\treturn new Vector2(1, 0);\r\n\t}\r\n\tstatic get left() {\r\n\t\treturn new Vector2(-1, 0);\r\n\t}\r\n\tstatic get fromDegree() {\r\n\t\treturn new Vector2(0, 0);\r\n\t}\r\n}\r\n", "import { TickerReturnData } from './ticker';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport interface ElementPositionAttributes {\r\n    position?: Vector2,\r\n    relativity?: ElementRelativity,\r\n\r\n}\r\nexport type ElementRelativity = 'absolute' | 'relative' | 'anchor';\r\nexport abstract class ElementPosition {\r\n    public active: boolean = true;\r\n    public relativity: ElementRelativity = 'relative';\r\n    public lastPosition: Vector2 = Vector2.zero;\r\n    public movedAmount: Vector2 = Vector2.zero;\r\n\r\n    protected _x: number = 0;\r\n    protected _y: number = 0;\r\n\r\n    public get x() {\r\n        return this._x;\r\n    };\r\n    public set x(n) {\r\n        this._x = n;\r\n    }\r\n    public get y() {\r\n        return this._y;\r\n    };\r\n    public set y(n) {\r\n        this._y = n;\r\n    }\r\n\r\n    public get position() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    public set position(value: Vector2) {\r\n        this.x = value.x;\r\n        this.y = value.y;\r\n    };\r\n\r\n    constructor(attr: ElementPositionAttributes = {}) {\r\n        this.relativity = attr.relativity;\r\n        if (attr.position) {\r\n            this.position = attr.position;\r\n            this._x = attr.position.x;\r\n            this._y = attr.position.y;\r\n        }\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n        if (this.active) {\r\n            this.movedAmount = this.lastPosition.subtract(this.position);\r\n            this.lastPosition = this.position;\r\n        }\r\n    }\r\n}\r\n", "import { ElementPosition, ElementPositionAttributes } from './elementPosition';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport type ElementZoomAttributes = ElementPositionAttributes & {\r\n    zoom?: Vector2,\r\n};\r\nexport abstract class ElementZoom extends ElementPosition {\r\n\r\n    protected _zoomX: number = 1;\r\n    protected _zoomY: number = 1;\r\n    public get zoomX() {\r\n        return this._zoomX;\r\n    };\r\n    public set zoomX(n) {\r\n        this._zoomX = n;\r\n    };\r\n    public get zoomY() {\r\n        return this._zoomY;\r\n    };\r\n    public set zoomY(n) {\r\n        this._zoomY = n;\r\n    };\r\n\r\n    public get zoom() {\r\n        return new Vector2(this.zoomX, this.zoomY);\r\n    }\r\n    public set zoom(value: Vector2) {\r\n        this.zoomX = value.x;\r\n        this.zoomY = value.y;\r\n    };\r\n\r\n    constructor(attr: ElementZoomAttributes = {}) {\r\n        super(attr);\r\n        if (attr.zoom) {\r\n            this._zoomX = attr.zoom.x;\r\n            this._zoomY = attr.zoom.y;\r\n        }\r\n    }\r\n\r\n}\r\n", "import { ElementZoom, ElementZoomAttributes } from './elementZoom';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport type ElementSizeAttributes = ElementZoomAttributes & {\r\n    size?: Vector2,\r\n};\r\nexport abstract class ElementSize extends ElementZoom {\r\n\r\n    protected _width: number = 0;\r\n    protected _height: number = 0;\r\n    public get width() {\r\n        return this._width;\r\n    };\r\n    public set width(n) {\r\n        this._width = n;\r\n    };\r\n    public get height() {\r\n        return this._height;\r\n    };\r\n    public set height(n) {\r\n        this._height = n;\r\n    };\r\n\r\n    public get size() {\r\n        return new Vector2(this.width, this.height);\r\n    }\r\n    public set size(value: Vector2) {\r\n        this.width = value.x;\r\n        this.height = value.y;\r\n    };\r\n\r\n    constructor(attr: ElementSizeAttributes = {}) {\r\n        super(attr);\r\n        if (attr.size) {\r\n            this._width = attr.size.x;\r\n            this._height = attr.size.y;\r\n        }\r\n    }\r\n\r\n}\r\n", "import { ElementPosition, ElementPositionAttributes } from './elementPosition';\r\nimport { ElementSize, ElementSizeAttributes } from './elementSize';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport type ElementVisibleAttributes = ElementSizeAttributes & {\r\n    visible?: boolean,\r\n}\r\nexport abstract class ElementVisible extends ElementSize{\r\n    \r\n    protected _visible: boolean = true;\r\n    public get visible () {\r\n        return this._visible;\r\n    };\r\n    public set visible (v: boolean) {\r\n        this._visible = v;\r\n    }\r\n\r\n    constructor(attr: ElementVisibleAttributes = {}) {\r\n        super(attr)\r\n        if (attr.visible !== undefined) {\r\n            this.visible = attr.visible;\r\n        }\r\n    }\r\n\r\n}\r\n", "import { Game } from '../game';\r\nimport { ElementVisible, ElementVisibleAttributes } from './elementVisible';\r\nimport { Event } from \"./event\";\r\nimport { Level } from './level';\r\nimport { Mode } from './mode';\r\n\r\nexport type ElementAttributes = ElementVisibleAttributes;\r\n\r\nexport abstract class Element extends ElementVisible {\r\n    public abstract rendererType: 'dom' | 'canvas';\r\n    private events: Event<unknown>[] = [];\r\n\r\n    public parent!: Element;\r\n    public game!: Game;\r\n    public mode!: Mode;\r\n    public level!: Level;\r\n\r\n    public build(): void  {\r\n        //\r\n    }\r\n\r\n    addEvent(e: Event<unknown>) {\r\n        this.events.push(e);\r\n    }\r\n\r\n    getEvent(id: string) {\r\n        return this.events.find((e)=>id === e.id)\r\n    }\r\n}\r\n", "import { Element, ElementAttributes } from \"../utils/element\";\r\nimport { TickerReturnData } from '../utils/ticker';\r\nimport { Vector2 } from \"../utils/vector2\";\r\n\r\nexport type DomElementAttributes = ElementAttributes & {\r\n    id?: string,\r\n    background?: string,\r\n    position?: Vector2;\r\n};\r\nexport class DomElement<T extends keyof HTMLElementTagNameMap> extends Element {\r\n    public dom: HTMLElementTagNameMap[T];\r\n    public children: DomElement<any>[] = [];\r\n    public rendererType = 'dom' as const;\r\n\r\n    public get id() { return this.dom.id; }\r\n\r\n    public set id(value: string) {\r\n        if (value) {\r\n            this.dom.id = value;\r\n        }\r\n    }\r\n\r\n    public get x(): number {\r\n        return Math.round(Number(this.dom.style.left.replace(/\\D/g,'')));\r\n    }\r\n    public set x(n: number) {\r\n        if (this.dom){\r\n            this.dom.style.left = `${n}px`;\r\n        }\r\n    }\r\n    public get y(): number {\r\n        return Math.round(Number(this.dom.style.bottom.replace(/\\D/g,'')));\r\n    }\r\n    public set y(n: number) {\r\n        if (this.dom){\r\n            this.dom.style.bottom = `${n}px`;\r\n        }\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        super.visible = value;\r\n        this.dom? this.dom.style.display = value ? 'block' : 'none': null\r\n    }\r\n\r\n    public set background(v: string) {\r\n        this.dom.style.background = v;\r\n    }\r\n\r\n    public get width() {\r\n        return Math.round(Number(this.dom.style.width.replace(/\\D/g,'')));\r\n    }\r\n    public set width(value: number) {\r\n        if (this.dom) {\r\n            this.dom.style.width = `${value}px`;\r\n            this.dom.setAttribute('width', String(value));\r\n        }\r\n    }\r\n\r\n    public get height() {\r\n        return Math.round(Number(this.dom.style.height.replace(/\\D/g,'')));\r\n    }\r\n    public set height(value: number) {\r\n        if (this.dom) {\r\n            this.dom.style.height = `${value}px`;\r\n            this.dom.setAttribute('height', String(value));\r\n        }\r\n    }\r\n\r\n    constructor(type: T, attr: DomElementAttributes = {}) {\r\n        super(attr);\r\n        this.dom = document.createElement(type);\r\n        this.dom.style.position = 'absolute';\r\n        this.dom.style.transformOrigin = 'bottom left';\r\n        this.dom.style.pointerEvents = 'none';\r\n        this.dom.style.bottom = '0px';\t\r\n        this.id = attr.id || '';\r\n        this.background = attr.background || '';\r\n        this.size = attr.size || Vector2.zero;\r\n        this.position = attr.position || Vector2.zero;\r\n    }\r\n\r\n    public tick(obj: TickerReturnData): void {\r\n        super.tick(obj);\r\n    }\r\n\r\n    public appendChild(e: DomElement<any>) {\r\n        this.dom.appendChild(e.dom);\r\n    }\r\n\r\n    public addChild(child: DomElement<any>) {\r\n        this.children.push(child);\r\n        this.dom.appendChild(child.dom);\r\n    }\r\n\r\n    addEventListener<K extends keyof HTMLElementEventMap>(type: K, listener: (this: HTMLAnchorElement, ev: HTMLElementEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void;\r\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void {\r\n        this.dom.addEventListener(type, listener, options);\r\n    };\r\n    removeEventListener<K extends keyof HTMLElementEventMap>(type: K, listener: (this: HTMLAnchorElement, ev: HTMLElementEventMap[K]) => any, options?: boolean | EventListenerOptions): void;\r\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void {\r\n        this.dom.removeEventListener(type, listener, options);\r\n    };\r\n\r\n\r\n\r\n}\r\n", "import { DomElement } from '../dom/domElement';\r\nimport { Collider } from '../utils/collider';\r\nimport { CanvasController } from '../utils/controller';\r\nimport { Element, ElementAttributes } from \"../utils/element\";\r\nimport { TickerReturnData } from '../utils/ticker';\r\nimport { Vector2 } from \"../utils/vector2\";\r\n\r\nexport type CanvasElementAttributes = ElementAttributes & {\r\n    hasDom?: boolean,\r\n    autoReady?: boolean,\r\n    controllers?: CanvasController[];\r\n};\r\nexport interface CanvasElement {\r\n    mouseMove?(e: MouseEvent): void;\r\n    keyDown?(e: KeyboardEvent): void;\r\n    keyUp?(e: KeyboardEvent): void;\r\n}\r\nexport type CanvasElementType = 'color' | 'image' | 'wrapper' | 'logic' | 'animation' | 'collider';\r\nexport abstract class CanvasElement extends Element {\r\n    public abstract type: CanvasElementType;\r\n    public rendererType = 'canvas' as const;\r\n    public dom!: DomElement<any>;\r\n    private autoReady: boolean;\r\n    private hasDom: boolean;\r\n\r\n    public get x() {\r\n        return super.x;\r\n    }\r\n\r\n    public set x(n: number) {\r\n        super.x = n;\r\n        if (this.dom) {\r\n            this.dom.x = n;\r\n        }\r\n    }\r\n\r\n    public get y() {\r\n        return super.y;\r\n    }\r\n\r\n    public set y(n: number) {\r\n        super.y = n;\r\n        if (this.dom) {\r\n            this.dom.y = n;\r\n        }\r\n    }\r\n\r\n    public get width() {\r\n        return super.width;\r\n    }\r\n\r\n    public set width(n: number) {\r\n        super.width = n;\r\n        if (this.dom) {\r\n            this.dom.width = n;\r\n        }\r\n    }\r\n\r\n    public get height() {\r\n        return super.height;\r\n    }\r\n\r\n    public set height(n: number) {\r\n        super.height = n;\r\n        if (this.dom) {\r\n            this.dom.height = n;\r\n        }\r\n    }\r\n\r\n    public get renderPosition(): Vector2 {\r\n        return this.position.add(this.anchoredPosition);\r\n    }\r\n    public get renderX() { return this.renderPosition.x; }\r\n    public get renderY() { return this.renderPosition.y; }\r\n\r\n    public lowerChildren: CanvasElement[] = [];\r\n    public higherChildren: CanvasElement[] = [];\r\n    public controllers: CanvasController[] = [];\r\n    public anchoredPosition: Vector2 = Vector2.zero;\r\n\r\n    constructor(attr: CanvasElementAttributes = {}) {\r\n        super(attr);\r\n        this.hasDom = attr.hasDom || false;\r\n        if (this.hasDom) {\r\n            this.dom = new DomElement('div');\r\n        }\r\n        this.autoReady = attr.autoReady || false;\r\n        this.addControllers(attr.controllers || []);\r\n    }\r\n\r\n    public addChild(child: CanvasElement | DomElement<any>, above: boolean = false) {\r\n        child.parent ??= this;\r\n        child.game ??= this.game;\r\n        child.mode ??= this.mode;\r\n        child.level ??= this.level;\r\n        if (this.game.waitCount){\r\n            this.game.waitCount++;\r\n        }\r\n\r\n        if (child.rendererType === 'canvas') {\r\n            this[above ? 'higherChildren' : 'lowerChildren'].push(child);\r\n            child.registerControllers(child);\r\n            if (child.dom && this.hasDom) {\r\n                this.dom.addChild(child.dom);\r\n            }\r\n        } else {\r\n            if (this.hasDom) {\r\n                this.dom.addChild(child);\r\n            } else {\r\n                console.log('The CanvasElement class does not have a dom element to add children to. Child:', child.constructor.name);\r\n            }\r\n        }\r\n\r\n        if (!this.autoReady) {\r\n            child.build();\r\n            if (this.game.waitCount){\r\n                this.game.waitCount--;\r\n            }\r\n    \r\n        }\r\n\r\n        if (child.rendererType === 'canvas' && child.type === 'collider' && (child as Collider).colliderType === 'static' && this.level) {\r\n            this.level.colliders.push(child as Collider);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public addControllers(c: CanvasController[]) {\r\n        if (c.length > 0) {\r\n            this.controllers.push(...c);\r\n        }\r\n    }\r\n\r\n    public registerControllers(child: CanvasElement) {\r\n        child.controllers.forEach((controller) => {\r\n            if (controller.parent === undefined) {\r\n                controller.parent ??= child;\r\n                controller.game ??= child.game;\r\n                controller.mode ??= child.mode;\r\n                controller.level ??= child.level;\r\n                controller.build();\r\n            }\r\n        });\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n        super.tick(obj);\r\n        \r\n        this.controllers.filter((child)=>child.active).forEach((c) => c.tick(obj));\r\n        this.lowerChildren.filter((child)=>child.active).forEach((c) => c.tick(obj));\r\n        this.higherChildren.filter((child)=>child.active).forEach((c) => c.tick(obj));\r\n        if (this.dom) {\r\n            this.dom.tick(obj);\r\n        }\r\n    }\r\n    \r\n\r\n    public preRender(c: CanvasRenderingContext2D) {\r\n        c.save();\r\n        \r\n        if (this.relativity === 'anchor') {\r\n            c.translate(this.x, this.y);\r\n            c.scale(this.zoom.x, this.zoom.y);\r\n        }\r\n        \r\n        this.lowerChildren.filter((child)=>child.visible && child.active).forEach((child) => {\r\n            child.preRender(c);\r\n            child.postRender(c);\r\n        });\r\n        \r\n        this.render(c);\r\n    }\r\n\r\n    public render(c: CanvasRenderingContext2D) {\r\n        //\r\n    }\r\n\r\n    public postRender(c: CanvasRenderingContext2D) {\r\n        this.higherChildren.filter((child)=>child.visible && child.active).forEach((child) => {\r\n            child.preRender(c);\r\n            child.postRender(c);\r\n        });\r\n\r\n        c.restore();\r\n    }\r\n\r\n}\r\n\r\n\r\n", "import { ElementRelativity } from '../utils/elementPosition';\r\nimport { CanvasElement, CanvasElementAttributes, CanvasElementType } from './canvasElement';\r\n\r\nexport type CanvasWrapperAttributes = CanvasElementAttributes & {\r\n}\r\nexport class CanvasWrapper extends CanvasElement {\r\n    public type: CanvasElementType = 'wrapper';\r\n    public relativity: ElementRelativity =  'anchor';\r\n}\r\n\r\n", "import { DomElement, DomElementAttributes } from \"./domElement\";\r\n\r\nexport type  DomTextAttributes = DomElementAttributes & {\r\n    text?: string,\r\n    color?: string,\r\n    fontSize?: number,\r\n    fontWeight?: number,\r\n    fontFamily?: string,\r\n    padding?: [number,number,number,number],\r\n}\r\nexport class DomText extends DomElement<'div'> {\r\n    set color (v: string) {\r\n        this.dom.style.color = v; \r\n    }\r\n    set fontSize (v: number) {\r\n        this.dom.style.fontSize = String(v)+'px'; \r\n    }\r\n    set fontWeight (v: number) {\r\n        this.dom.style.fontWeight = String(v); \r\n    }\r\n    set fontFamily (v: string) {\r\n        this.dom.style.fontFamily = v; \r\n    }\r\n    public get text() {\r\n        return this.dom.innerHTML;\r\n    }\r\n    public set text (v: string) {\r\n        this.dom.innerHTML = v?v:''; \r\n    }\r\n    public set padding (v: [number,number,number,number]) {\r\n        this.dom.style.padding = v.join('px ')+'px'; \r\n    }\r\n    public constructor(attr: DomTextAttributes = {}) {\r\n        super('div', attr);\r\n        this.color = attr.color;\r\n        this.text = attr.text;\r\n        this.fontSize = attr.fontSize;\r\n        this.fontWeight = attr.fontWeight;\r\n        this.fontFamily = attr.fontFamily;\r\n        this.padding = attr.padding || [0,0,0,0];\r\n\r\n        this.dom.style.pointerEvents = 'none';\r\n        this.dom.style.userSelect = 'none';\r\n    }\r\n}", "import { DomText } from \"../../dom/domText\";\r\nimport { TickerReturnData } from '../ticker';\r\nimport { Vector2 } from '../vector2';\r\n\r\nexport class FPS extends DomText {\r\n    private fCount: number = 0;\r\n    private tCount: number = 0;\r\n    public constructor( ) {\r\n        super({\r\n            text: FPS.getString(0),\r\n            fontSize: 35,\r\n            fontWeight: 900,\r\n            color: 'white',\r\n            position: new Vector2(5,5), \r\n            size: new Vector2(100, 50),\r\n            background: '#ff0000aa',\r\n            fontFamily: 'monospace',\r\n            padding: [0,10,0,10]\r\n        });\r\n    }\r\n\r\n    public tick({interval}: TickerReturnData){\r\n        this.fCount++;\r\n        this.tCount+=interval;\r\n        if (this.tCount > 1000){\r\n            this.text = FPS.getString(this.fCount);\r\n            this.fCount = 0;\r\n            this.tCount = 0;\r\n        }\r\n    }\r\n\r\n    public static getString(v: number){\r\n        return `${String(v)}<sub style=\"font-size:25px; top: -7px; position: relative\">FPS</sub>`\r\n    }\r\n}", "import { Vector2 } from './vector2';\r\n\r\nexport type TickerReturnData = {interval: number, total: number}\r\nexport type TickerCallback = (obj: TickerReturnData) => void;\r\nexport class Ticker {\r\n    private callbacks: TickerCallback[] = [];\r\n    private sTime: number;\r\n    public get startTime() {\r\n        return this.sTime;\r\n    }\r\n    private eTime: number;\r\n    public get elapsed() {\r\n        return this.eTime;\r\n    }\r\n    private pTime: number;\r\n    \r\n    private fFrame(time: number) {\r\n        this.sTime = time;\r\n        this.pTime = time;\r\n        window.requestAnimationFrame(this.frame.bind(this));\r\n    }\r\n    private frame(timeStamp: number) {\r\n        const interval = timeStamp - this.pTime;\r\n        this.eTime = timeStamp - this.sTime;\r\n        this.pTime = timeStamp;\r\n\r\n        const o = {\r\n            interval,\r\n            total: this.eTime,\r\n        }\r\n\r\n        this.callbacks.forEach((c) => {\r\n            c(o);\r\n        });\r\n\r\n        window.requestAnimationFrame(this.frame.bind(this));\r\n    }\r\n\r\n    public start() {\r\n        window.requestAnimationFrame(this.fFrame.bind(this));\r\n    }\r\n\r\n    public add(callback: TickerCallback) {\r\n        this.callbacks.push(callback);\r\n    }\r\n}\r\n", "export type eventFunction<T> = (v: T) => void;\r\nexport class Event<T> {\r\n    public id: string;\r\n    private subscribers: Record<string, eventFunction<T>> = {};\r\n    constructor(id: string) {\r\n        this.id = id;\r\n    }\r\n\r\n    public subscribe(key: string, func: eventFunction<T>) {\r\n        this.subscribers[key] = func;\r\n    }\r\n\r\n    public alert(v: T) {\r\n        Object.values(this.subscribers).forEach((s) => {\r\n            s(v);\r\n        });\r\n    }\r\n}\r\n", "import { CanvasElement } from '../canvas/canvasElement';\r\nimport { DomElement } from '../dom/domElement';\r\nimport { Game } from '../game';\r\nimport { Mode } from './mode';\r\n\r\nexport type inputEvents = 'mouseMove'|'keyDown'|'keyUp';\r\nexport type inputEventsData = {\r\n    'mouseMove': MouseEvent,\r\n    'keyDown': KeyboardEvent,\r\n    'keyUp': KeyboardEvent,\r\n}\r\nexport class Input {\r\n    private canvas: DomElement<\"canvas\">;\r\n    private game: Game;\r\n    public constructor(game: Game) {\r\n        this.game = game;\r\n        this.canvas = game.renderer;\r\n        this.canvas.addEventListener('mousemove', this.mouseMove.bind(this));\r\n        this.canvas.addEventListener('keydown', this.keyDown.bind(this));\r\n        this.canvas.addEventListener('keyup', this.keyUp.bind(this));\r\n        \r\n    }\r\n\r\n    public mouseMove(e: MouseEvent) {\r\n        this.send('mouseMove', e); \r\n    }\r\n\r\n    public keyDown(e: KeyboardEvent) {\r\n        this.send('keyDown', e);\r\n    }\r\n\r\n    public keyUp(e: KeyboardEvent) {\r\n        this.send('keyUp', e);\r\n    }\r\n\r\n    private send(event:inputEvents, e: KeyboardEvent|MouseEvent){\r\n        Object.values(this.game.modes).forEach((mode) => this.recursive(event, mode, e));\r\n    }\r\n\r\n    private recursive(event:inputEvents, element: CanvasElement, e: KeyboardEvent|MouseEvent) {\r\n        if (element.active) {\r\n            if (element[event]) {\r\n                if (event === 'mouseMove') {\r\n                    element[event](e as MouseEvent);\r\n                } else {\r\n                    element[event](e as KeyboardEvent);\r\n                }\r\n            }\r\n            element.lowerChildren.forEach((child) => this.recursive(event, child, e));\r\n            element.controllers.forEach((child) => this.recursive(event, child, e));\r\n        }\r\n    }\r\n}", "import { CanvasElement } from '../canvas/canvasElement';\r\nimport { ElementAttributes } from \"../utils/element\";\r\nimport { Mode } from '../utils/mode';\r\nimport { TickerReturnData } from '../utils/ticker';\r\nimport { Vector2 } from \"../utils/vector2\";\r\nimport { DomElement } from './domElement';\r\n\r\nexport type DomElementAttributes = ElementAttributes & {\r\n    id?: string,\r\n    size?: Vector2,\r\n    background?: string,\r\n    position?: Vector2;\r\n};\r\nexport class DomCanvas extends DomElement<'canvas'> {\r\n    public dom: HTMLElementTagNameMap['canvas'];\r\n    public ctx: CanvasRenderingContext2D;\r\n\r\n    constructor() {\r\n        super('canvas');\r\n        this.dom = document.createElement('canvas');\r\n        this.dom.style.position = 'absolute';\r\n        this.dom.style.imageRendering = 'pixelated';\r\n        this.dom.style.pointerEvents = 'all';\r\n        this.dom.style.bottom = '0px';\r\n        this.ctx = this.dom.getContext('2d');\r\n        this.ctx.imageSmoothingEnabled = false;\r\n    }\r\n\r\n    public build(): void {\r\n        this.game.ctx = this.ctx;\r\n        this.dom.tabIndex = 1;\r\n\r\n        this.game.getEvent('resize').subscribe(String(Math.random()), (size: Vector2) => {\r\n            this.size = size;\r\n        });\r\n        this.game.resize();\r\n    }\r\n\r\n    public addMode(child: Mode) {\r\n        child.parent ??= this.game;\r\n        child.game ??= this.game;\r\n        child.mode ??= this.mode;\r\n        child.level ??= this.level;\r\n        this.game.dom.appendChild(child.dom);\r\n        child.registerControllers(child);\r\n        child.build();\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n\r\n        // this.ctx.fillStyle = 'red';\r\n        // this.ctx.beginPath();\r\n        // this.ctx.roundRect(100, 100, 100, 100, 100);\r\n        // this.ctx.fill();\r\n        // this.ctx.closePath();\r\n\r\n        super.tick(obj);\r\n\r\n        this.ctx.save();\r\n        this.ctx.scale(1, -1);\r\n        this.ctx.translate(0, -this.height);\r\n\r\n        Object.values(this.game.modes).filter((child) => child.active).forEach((mode) => mode.tick(obj));\r\n        Object.values(this.game.modes).filter((child) => child.visible && child.active).forEach((mode) => {\r\n            mode.preRender(this.ctx);\r\n            mode.postRender(this.ctx);\r\n        });\r\n        this.ctx.restore();\r\n    }\r\n}\r\n\r\n\r\n", "import { Vector2 } from '../utils/vector2';\r\nimport { CanvasElement, CanvasElementAttributes } from './canvasElement';\r\n\r\nexport type LinearGradient = {\r\n    angle: number,\r\n    stops: [number,string][]\r\n}\r\nexport type RadialGradient = {\r\n    stops: [number,string][],\r\n    offset?: Vector2,\r\n}\r\nexport type ColorType = 'color'|'linearGradient'|'radialGradient';\r\nexport type CanvasColorAttributes = CanvasElementAttributes & {\r\n    color?: string,\r\n    stroke?: string,\r\n    strokeWidth?: number,\r\n    linearGradient?: LinearGradient,\r\n    radialGradient?: RadialGradient,\r\n}\r\nexport abstract class CanvasColor extends CanvasElement {\r\n    public abstract shape: 'circle'|'square';\r\n    public type = 'color' as const;\r\n    public colorType: ColorType = 'color';\r\n    public color: string;\r\n    public linearGradient: LinearGradient;\r\n    public radialGradient: RadialGradient;\r\n    public stroke: string;\r\n    public strokeWidth: number = 0;\r\n\r\n    constructor(attr: CanvasColorAttributes = {}) {\r\n        super(attr);\r\n        this.color = attr.color\r\n        this.stroke = attr.stroke\r\n        this.strokeWidth = attr.strokeWidth | 0\r\n        this.linearGradient = attr.linearGradient\r\n        this.radialGradient = attr.radialGradient\r\n    }\r\n\r\n    public getColor(): string | CanvasGradient | CanvasPattern {\r\n        if (this.colorType === 'color'){\r\n            return this.color\r\n        }\r\n        if (this.colorType === 'linearGradient'){\r\n            return this.getLiniarGradient();\r\n        }\r\n        if (this.colorType === 'radialGradient'){\r\n            return this.getRadialGradient();\r\n        }\r\n    }\r\n    public abstract getLiniarGradient(): CanvasGradient | ''\r\n    public abstract getRadialGradient(): CanvasGradient | ''\r\n}\r\n", "import { Vector2 } from '../utils/vector2';\r\nimport { CanvasColor, CanvasColorAttributes } from './canvasColor';\r\n\r\nexport type CanvasSquareAttributes = CanvasColorAttributes & {\r\n    rounded?: number;\r\n    condition?: (position: Vector2, size: Vector2)=>void,\r\n    opacity?: number,\r\n};\r\nexport class CanvasSquare extends CanvasColor {\r\n    public shape = 'square' as const;\r\n    public rounded: number;\r\n    public condition: (position: Vector2, size: Vector2) => void;\r\n    public opacity: number;\r\n\r\n    constructor(attr: CanvasSquareAttributes = {}) {\r\n        super(attr);\r\n        this.color = attr.color;\r\n        this.rounded = attr.rounded || 3;\r\n        this.condition = attr.condition;\r\n        this.opacity = attr.opacity || 1;\r\n\r\n    }\r\n\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n        if ((!this.condition || this.condition(this.position.add(this.parent.position), this.size))) {\r\n            ctx.fillStyle = this.getColor();\r\n            ctx.globalAlpha = this.opacity;\r\n            ctx.beginPath();\r\n            ctx.roundRect(this.position.x, this.position.y, this.width, this.height, this.rounded);\r\n            ctx.fill();\r\n            if (this.strokeWidth) {\r\n                ctx.lineWidth = this.strokeWidth;\r\n                ctx.strokeStyle = this.stroke || 'black';\r\n                ctx.stroke();\r\n            }\r\n            ctx.closePath();\r\n        }\r\n    }\r\n\r\n    public getLiniarGradient(): CanvasGradient | '' {\r\n        if (this.linearGradient) {\r\n            const grd = this.game.renderer.ctx.createLinearGradient(\r\n                this.position.x + this.anchoredPosition.x,\r\n                this.position.y + this.anchoredPosition.y,\r\n                this.position.x + this.anchoredPosition.x + this.width,\r\n                this.position.y + this.anchoredPosition.y + this.height\r\n            );\r\n\r\n            this.linearGradient.stops.forEach(([number, color]) => {\r\n                grd.addColorStop(number, color);\r\n            });\r\n\r\n            return grd;\r\n        }\r\n        return \"\";\r\n    }\r\n    public getRadialGradient(): CanvasGradient | '' {\r\n        if (this.radialGradient) {\r\n            const grd = this.game.renderer.ctx.createRadialGradient(\r\n                this.position.x + this.width / 2,\r\n                this.position.y + this.height / 2,\r\n                0,\r\n                this.position.x + this.width / 2,\r\n                this.position.y + this.height / 2,\r\n                this.width\r\n            );\r\n            this.radialGradient.stops.forEach(([number, color]) => {\r\n                grd.addColorStop(number, color);\r\n            });\r\n            return grd;\r\n        }\r\n        return \"\";\r\n    }\r\n}\r\n", "import { Vector2 } from '../utils/vector2';\r\nimport { CanvasSquare } from './canvasSquare';\r\n\r\nexport class CanvasColorBackground extends CanvasSquare {\r\n    constructor(color: string) {\r\n        super({\r\n            position: Vector2.zero,\r\n            color,\r\n        });\r\n    }\r\n\r\n    build() {\r\n        this.game.getEvent('resize').subscribe(String(Math.random()), (size: Vector2)=>{\r\n            this.size = this.parent.size;            \r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n", "import { CanvasElement } from '../canvas/canvasElement';\r\nimport { CanvasWrapper, CanvasWrapperAttributes } from '../canvas/canvasWrapper';\r\nimport { DomElement } from '../dom/domElement';\r\nimport { Game } from '../game';\r\nimport { ElementRelativity } from './elementPosition';\r\nimport { Level } from './level';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport type modeAttributes = CanvasWrapperAttributes & {\r\n\r\n}\r\nexport abstract class Mode extends CanvasWrapper {\r\n    public levels: Record<string, Level> = {};\r\n    public relativity: ElementRelativity = 'anchor';\r\n\r\n    private keyAliases = {\r\n        'w': 'up',\r\n        'a': 'left',\r\n        's': 'down',\r\n        'd': 'right',\r\n        'ArrowUp': 'up',\r\n        'ArrowLeft': 'left',\r\n        'ArrowDown': 'down',\r\n        'ArrowRight': 'right',\r\n    } as const\r\n\r\n    public input: {\r\n        'up': boolean,\r\n        'left': boolean,\r\n        'down': boolean,\r\n        'right': boolean,\r\n    } = {\r\n        'up': false,\r\n        'left': false,\r\n        'down': false,\r\n        'right': false,\r\n    }\r\n\r\n    build(): void {\r\n        super.build();\r\n        this.game.getEvent('resize').subscribe(String(Math.random()), (size: Vector2) => {\r\n            this.size = size;\r\n        });\r\n    }\r\n\r\n    protected addLevel(s: string, level: Level) {\r\n        this.levels[s] = level;\r\n        this.addChild(level);\r\n    }\r\n\r\n    public switchLevel(s:string){\r\n        Object.entries(this.levels).forEach(([key, level])=>{\r\n            level.active = key === s;\r\n            level.visible = key === s;\r\n            level.dom?level.dom.visible = key === s: null;\r\n        });\r\n    }\r\n\r\n    public keyDown(e: KeyboardEvent) {\r\n        if (Object.keys(this.keyAliases).includes(e.key)){\r\n            this.input[this.keyAliases[e.key as keyof typeof this.keyAliases]] = true;\r\n        }\r\n    }\r\n    \r\n    public keyUp(e: KeyboardEvent) {\r\n        if (Object.keys(this.keyAliases).includes(e.key)){\r\n            this.input[this.keyAliases[e.key as keyof typeof this.keyAliases]] = false;\r\n        }\r\n    }\r\n}\r\n", "import { CanvasElement, CanvasElementAttributes, CanvasElementType } from '../canvas/canvasElement';\r\nimport { ElementRelativity } from './elementPosition';\r\n\r\nexport type ColliderAttributes = CanvasElementAttributes & {\r\n    cornerTolerance?: number;\r\n    colliderType?: ColliderType,\r\n    callback?: () => void;\r\n}\r\n\r\nexport type ColliderType = 'static' | 'dynamic';\r\n\r\nexport class Collider extends CanvasElement {\r\n    public type: CanvasElementType = 'collider';\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public colliderType: ColliderType = 'static';\r\n    public cornerTolerance: number;\r\n    public callback: () => void;\r\n\r\n    public constructor(attr: ColliderAttributes = {}) {\r\n        super(attr);\r\n        this.cornerTolerance = attr.cornerTolerance || 0;\r\n        this.colliderType = attr.colliderType || 'static';\r\n        this.callback = attr.callback;\r\n\r\n    }\r\n\r\n    public build(): void {\r\n        // this.addChild( new CanvasSquare({size: this.size, color: 'rgba(255,0,0,0.5)', rounded: 0}), true);\r\n    }\r\n}", "import { CanvasElement } from '../canvas/canvasElement';\r\nimport { CanvasSquare } from '../canvas/canvasSquare';\r\nimport { CanvasWrapper, CanvasWrapperAttributes } from '../canvas/canvasWrapper';\r\nimport { DomElement } from '../dom/domElement';\r\nimport { Collider } from './collider';\r\nimport { ElementRelativity } from './elementPosition';\r\nimport { Vector2 } from \"./vector2\";\r\n\r\nexport type levelAttributes =  CanvasWrapperAttributes & {\r\n\r\n}\r\nexport abstract class Level extends CanvasWrapper{\r\n    abstract start: Vector2;\r\n    abstract background: CanvasSquare;\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public ready = false;\r\n    public colliders: Collider[] = [];\r\n\r\n    constructor(attr: levelAttributes = {}) {\r\n        super(attr);\r\n        this.level = this;\r\n        this.mode = this.mode;\r\n        this.size = this.size;\r\n    }\r\n\r\n}\r\n", "import { ElementRelativity } from '../utils/elementPosition';\r\nimport { TickerReturnData } from '../utils/ticker';\r\nimport { CanvasElement, CanvasElementAttributes, CanvasElementType } from './canvasElement';\r\nimport { PrepAnimation } from './prepAnimation';\r\nimport { PrepSpritesheet } from './spritesheet';\r\n\r\nexport type CanvasAnimationAttributes = CanvasElementAttributes & {\r\n    animation: PrepAnimation | PrepSpritesheet,\r\n    interval?: number,\r\n    paralax?: number,\r\n    shadow?: [string, number, number, number],\r\n    reverse?: boolean,\r\n    loop? : boolean,\r\n\r\n};\r\nexport class CanvasAnimation extends CanvasElement {\r\n    public type: CanvasElementType = 'animation';\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public ready: boolean = false;\r\n    private prepped: PrepAnimation | PrepSpritesheet;\r\n    public frame: number = 0;\r\n    public interval: number;\r\n    public shadow: [string, number, number, number];\r\n    public reverse: boolean;\r\n    public loop: boolean = true;\r\n\r\n    public get max (){ return this.prepped.max }\r\n    public get frames (){ return this.prepped.frames }\r\n\r\n    constructor(attr: CanvasAnimationAttributes) {\r\n        super({...attr, autoReady: false});\r\n        this.prepped = attr.animation;\r\n        this.prepped.callback = this.build.bind(this);\r\n        this.interval = attr.interval || this.prepped.interval;\r\n        this.shadow = attr.shadow;\r\n        this.reverse = attr.reverse || false;\r\n        this.loop = attr.loop !== undefined? attr.loop : true;\r\n    }\r\n\r\n    get width() {\r\n        return this.prepped.size.x;\r\n    }\r\n\r\n    get height() {\r\n        return this.prepped.size.y;\r\n    }\r\n\r\n\r\n    build(): void {\r\n        this.prepped.frames.forEach((frame) => {\r\n            this.addChild(frame, true);\r\n            frame.shadow = this.shadow;\r\n        });\r\n    }\r\n\r\n    tick(obj: TickerReturnData) {\r\n        super.tick(obj);\r\n        if (this.loop){\r\n            this.frame = (this.frame+1)%(this.max*this.interval);\r\n        } else {\r\n            if (this.frame < this.max*this.interval - 1){\r\n                this.frame++;\r\n            }\r\n        }\r\n\r\n        this.frames.forEach((frame,i) => {\r\n            if (this.reverse){\r\n                frame.active = Math.floor(this.frame/this.interval) === this.max - i - 1;\r\n            } else {\r\n                frame.active = Math.floor(this.frame/this.interval) === i;\r\n            }\r\n        });\r\n    }\r\n}\r\n", "import { ElementRelativity } from '../utils/elementPosition';\r\nimport { Vector2 } from '../utils/vector2';\r\nimport { CanvasElement, CanvasElementAttributes,CanvasElementType } from './canvasElement';\r\nimport { PrepImage } from './prepImage';\r\n\r\nexport type CanvasImageAttributes = CanvasElementAttributes & {\r\n    image: PrepImage,\r\n    condition?: (position: Vector2, size: Vector2)=>void,\r\n    worldSpaceParalaxX? : number,\r\n    worldSpaceParalaxY? : number,\r\n    screenSpaceParalaxX? : number,\r\n    screenSpaceParalaxY? : number,\r\n    repeatX?: number,\r\n    repeatY?: number,\r\n    opacity?: number,\r\n    shadow?: [string, number, number, number],\r\n};\r\nexport class CanvasImage extends CanvasElement {\r\n    public type: CanvasElementType = 'image';\r\n    public prepped: PrepImage;\r\n    public relativity: ElementRelativity = 'relative';\r\n    public condition: (position: Vector2, size: Vector2) => void;\r\n    public repeatX: number;\r\n    public repeatY: number;\r\n    public opacity: number;\r\n    public shadow: [string, number, number, number];\r\n    public worldSpaceParalaxX: number;\r\n    public worldSpaceParalaxY: number;\r\n    public screenSpaceParalaxX: number;\r\n    public screenSpaceParalaxY: number;\r\n\r\n    get width() {\r\n        return this.prepped.width;\r\n    }\r\n    get height() {\r\n        return this.prepped.height;\r\n    }\r\n\r\n\r\n    constructor(attr: CanvasImageAttributes) {\r\n        super(attr);\r\n        this.prepped = attr.image;\r\n        this.condition = attr.condition;\r\n        this.worldSpaceParalaxX = attr.worldSpaceParalaxX || 0;\r\n        this.worldSpaceParalaxY = attr.worldSpaceParalaxY || 0;\r\n        this.screenSpaceParalaxX = attr.screenSpaceParalaxX || 0;\r\n        this.screenSpaceParalaxY = attr.screenSpaceParalaxY || 0;\r\n        this.repeatX = attr.repeatX || 1;\r\n        this.repeatY = attr.repeatY || 1;\r\n        this.opacity = attr.opacity || 1;\r\n        this.shadow = attr.shadow;\r\n    }\r\n\r\n    public render(ctx: CanvasRenderingContext2D) {        \r\n        if (this.prepped.ready && (!this.condition || this.condition(this.position.add(this.parent.position), this.prepped.size))) {            \r\n            for (let i = 0; i < this.repeatX; i++) {\r\n                for (let j = 0; j < this.repeatY; j++) {\r\n                    if (this.opacity !== 1){\r\n                        ctx.globalAlpha = this.opacity;\r\n                    }\r\n                    if (this.shadow){\r\n                        ctx.shadowColor = this.shadow[0];\r\n                        ctx.shadowOffsetX = this.shadow[1];\r\n                        ctx.shadowOffsetY = this.shadow[2];\r\n                        ctx.shadowBlur = this.shadow[3];\r\n                    }\r\n\r\n                    ctx.drawImage(\r\n                        this.prepped.image,\r\n                        this.x + (this.worldSpaceParalaxX * this.level.x) + ((this.width / 2 + this.x) - (this.mode.width / 2 - this.level.x)) * this.screenSpaceParalaxX + (i * this.prepped.width),\r\n                        this.y + (j * this.prepped.height),\r\n                        this.prepped.width,\r\n                        this.prepped.height,\r\n                    );\r\n                }\r\n            }     \r\n        }\r\n        // this.level.x + this.x + (this.prepped.width/2); // center of image\r\n        // this.level.x + this.x + (this.prepped.width/2);\r\n    }\r\n}\r\n", "import { Game } from '../game';\r\nimport { Vector2 } from '../utils/vector2';\r\n\r\nexport type PrepImageAttributes = {\r\n    factor?: number;\r\n    url: string;\r\n    image?: HTMLImageElement;\r\n    cropSize?: Vector2,\r\n    cropPosition?: Vector2,\r\n};\r\nexport class PrepImage {\r\n    private game: Game;\r\n    public type: 'image' = 'image';\r\n    public original: HTMLImageElement;\r\n    public image: HTMLImageElement;\r\n    protected cropSize: Vector2;\r\n    protected cropPosition: Vector2;\r\n    public get size(): Vector2 {\r\n        return new Vector2(this.width, this.height);\r\n    }\r\n    public get width() { return this.image.width; }\r\n    public get height() { return this.image.height; }\r\n\r\n    public factor: number;\r\n    public ready: boolean = false;\r\n\r\n    constructor(attr: PrepImageAttributes, game: Game) {\r\n        this.game = game;\r\n        this.cropSize = attr.cropSize;\r\n        this.cropPosition = attr.cropPosition || Vector2.zero;\r\n        this.factor = attr.factor || 1;\r\n\r\n        if (attr.image) {\r\n            this.original = attr.image;\r\n            this.upScale();\r\n        } else {\r\n            this.original = new Image();\r\n            this.original.src = attr.url;\r\n            this.game.waitCount++;\r\n            this.original.onload = () => {\r\n                this.game.waitCount--;\r\n                this.upScale();\r\n            };\r\n        }\r\n    }\r\n\r\n    protected upScale() {\r\n        this.game.waitCount++;\r\n        const originalSize = this.cropSize || new Vector2(this.original.width, this.original.height);\r\n        const newSize = originalSize.scale(this.factor);\r\n\r\n        const os = document.createElement('canvas');\r\n        os.width = newSize.x;\r\n        os.height = newSize.y;\r\n        const osCTX = os.getContext('2d', { alpha: true, willReadFrequently: true });\r\n\r\n        osCTX.drawImage(this.original, this.cropPosition.x, this.cropPosition.y, originalSize.x, originalSize.y, 0, 0, originalSize.x, originalSize.y);\r\n\r\n        const ss = document.createElement('canvas');\r\n        ss.width = newSize.x;\r\n        ss.height = newSize.y;\r\n        const ssCTX = ss.getContext('2d', { willReadFrequently: true });\r\n\r\n        for (let x = 0; x < originalSize.x; x++) {\r\n            for (let y = 0; y < originalSize.y; y++) {\r\n                const r = osCTX.getImageData(x, y, 1, 1, { colorSpace: \"srgb\" });\r\n                ssCTX.fillStyle = `rgba(${r.data[0]}, ${r.data[1]}, ${r.data[2]}, ${r.data[3] / 255})`;\r\n                ssCTX.fillRect(\r\n                    Math.round(x * this.factor),\r\n                    newSize.y - Math.round(y * this.factor),\r\n                    Math.round(this.factor),\r\n                    Math.round(this.factor) * -1\r\n                );\r\n            }\r\n        }\r\n\r\n        const newI = new Image();\r\n        newI.src = ss.toDataURL();\r\n\r\n        newI.onload = () => {\r\n            this.game.waitCount--;\r\n            this.loaded(newI);\r\n        };\r\n    }\r\n\r\n    protected loaded(i: HTMLImageElement) {\r\n        this.image = i;\r\n        this.ready = true;\r\n    }\r\n\r\n}\r\n", "import { Game } from '../game';\r\nimport { Vector2 } from '../utils/vector2';\r\nimport { CanvasImage } from './canvasImage';\r\nimport { PrepImage } from './prepImage';\r\n\r\nexport type PrepSpritesheetAttributes = {\r\n    url: string,\r\n    size: Vector2;\r\n    repeatX?: number,\r\n    repeatY?: number,\r\n    sectionX?: number,\r\n    sectionY?: number,\r\n    interval?: number;\r\n    factor?: number;\r\n};\r\nexport class PrepSpritesheet {\r\n    public type: 'animation' = 'animation';\r\n    protected url: string;\r\n    public size: Vector2;\r\n    protected repeatX: number;\r\n    protected repeatY: number;\r\n    protected sectionX: number;\r\n    protected sectionY: number;\r\n    protected factor: number;\r\n    protected game: Game;\r\n    public ready: boolean = false;\r\n    public interval: number;\r\n    public frames: CanvasImage[] = [];\r\n    public max: number = 0;\r\n    public callback: ()=>void;\r\n\r\n    constructor(attr: PrepSpritesheetAttributes, game: Game) {\r\n        this.game = game;\r\n        this.factor = attr.factor || 1;\r\n        this.interval = attr.interval || 10;\r\n        this.url = attr.url;\r\n        this.size = attr.size;\r\n        this.repeatX = attr.repeatX || 1;\r\n        this.repeatY = attr.repeatY || 1;\r\n        this.sectionX = attr.sectionX || 0;\r\n        this.sectionY = attr.sectionY || 0;\r\n        this.game.waitCount++;\r\n        const i = new Image();\r\n        i.src = this.url;\r\n        i.onload = () => {\r\n            this.game.waitCount--;\r\n            this.add(i);\r\n            if(this.callback){\r\n                this.callback();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected add(image: HTMLImageElement) {\r\n        for (let j = 0; j < this.repeatY; j++) {\r\n            for (let i = 0; i < this.repeatX; i++) {\r\n                const frame = new CanvasImage({\r\n                    image: new PrepImage({\r\n                        image,\r\n                        url: this.url,\r\n                        factor: this.factor,\r\n                        cropPosition: new Vector2(this.sectionX + (this.size.x * i), this.sectionY + (this.size.y * j)),\r\n                        cropSize: this.size\r\n                    },this.game)\r\n                });\r\n                this.frames.push(frame);\r\n                this.max++;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n", "import { Collider, ColliderAttributes, ColliderType } from './collider';\r\nimport { ElementRelativity } from './elementPosition';\r\n\r\nexport type CharacterAttributes = ColliderAttributes & {\r\n}\r\n\r\nexport abstract class Character extends Collider {\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public colliderType: ColliderType = 'dynamic';\r\n    public collider: Collider;\r\n\r\n    constructor(attr: CharacterAttributes) {\r\n        super(attr);\r\n        this.position = attr.position;\r\n        this.size = attr.size;\r\n        this.collider = new Collider({\r\n            size: this.size,\r\n            cornerTolerance: 30,\r\n        });\r\n        this.colliderType = 'dynamic';\r\n    }\r\n}\r\n", "export abstract class Util{\r\n    public static clamp(value:number, min:number, max:number) {\r\n        return Math.max(Math.min(value, max), min);\r\n    }\r\n    public static to0(value:number, tolerance: number = 0.1) {\r\n        return Math.abs(value) < tolerance ? 0 : value;\r\n    }\r\n}", "import { CanvasElement, CanvasElementAttributes, CanvasElementType } from '../canvas/canvasElement';\r\n\r\nexport class CanvasController extends CanvasElement {\r\n    public type: CanvasElementType = 'logic';\r\n}", "import { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { CanvasController } from '../../../utils/controller';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Util } from '../../../utils/utils';\r\nimport { Vector2 } from '../../../utils/vector2';\r\n\r\nexport class CameraController extends CanvasController {\r\n    private target: CanvasWrapper;\r\n    constructor({ target }: {\r\n        target: CanvasWrapper;\r\n    }) {\r\n        super();\r\n        this.target = target;\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n        super.tick(obj);\r\n\r\n        const mid = this.target.position\r\n            .add(this.target.size.subtract(this.target.mode.size).scale(0.5))\r\n            .scale(-1)\r\n            \r\n        const rel = this.target.mode.size.subtract(this.target.level.size);\r\n\r\n        this.target.level.position = new Vector2(\r\n            rel.x < 0 ? Util.clamp(mid.x, rel.x, 0): rel.x/2,\r\n            rel.y < 0 ? Util.clamp(mid.y, rel.y, 0): rel.y/2\r\n        )\r\n\r\n    }\r\n}", "import { CanvasAnimation } from '../../../canvas/canvasAnimation';\r\nimport { PrepSpritesheet } from '../../../canvas/spritesheet';\r\nimport { Character } from '../../../utils/character';\r\nimport { CanvasController } from '../../../utils/controller';\r\nimport { ElementRelativity } from '../../../utils/elementPosition';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Util } from '../../../utils/utils';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { CameraController } from '../../snakeMode/controllers/cameraController';\r\n\r\nexport class SideCharacter extends Character {\r\n    private scale: number = 5;\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public animations: Record<string, CanvasAnimation> = {};\r\n    public direction: number = 1;\r\n    public phase: 'idle' | 'walk' = 'idle';\r\n    private specifics: [`${typeof this.phase}`, string, number, number][];\r\n\r\n    constructor({\r\n        position = Vector2.zero,\r\n        controllers = []\r\n    }: {\r\n        position?: Vector2;\r\n        controllers?: CanvasController[];\r\n    } = {}) {\r\n        super({\r\n            position,\r\n            controllers,\r\n            size: new Vector2(15*5, 40*5),\r\n        });\r\n        this.specifics = [\r\n            ['idle', '/img/spritesheets/hat-man-idle.png', 4, 40],\r\n            ['walk', '/img/spritesheets/hat-man-walk.png', 6, 60],\r\n        ];\r\n    }\r\n\r\n    build() {\r\n        this.level.addControllers([new CameraController({ target: this })]);\r\n\r\n        this.specifics.forEach(([key, url, count, interval]) => {\r\n            this.animations[key] = new CanvasAnimation({\r\n                animation: new PrepSpritesheet({\r\n                    url,\r\n                    factor: this.scale,\r\n                    size: new Vector2(39, 52),\r\n                    repeatX: count,\r\n                    interval: interval,\r\n                }, this.game),\r\n            });\r\n\r\n            this.addChild(this.animations[key], true);\r\n        });\r\n\r\n    }\r\n    public tick(o: TickerReturnData) {\r\n        super.tick(o);\r\n        this.phase = this.movedAmount.magnitude() > .1 ? 'walk' : 'idle';\r\n\r\n        Object.entries(this.animations).forEach(([key, a])=>{\r\n            if (this.movedAmount.x !== 0){\r\n                a.zoom = new Vector2(this.movedAmount.x < 0 ? 1 : -1, 1);\r\n                a.x = ((20*this.scale) * (this.movedAmount.x < 0 ? -1 : 1)) + (7.5*this.scale)\r\n            }\r\n            if (key.startsWith('walk')) {\r\n                a.interval = Util.clamp(Math.floor(30 - this.movedAmount.magnitude() * 0.8), 5, 50);\r\n            }\r\n            a.active = key === `${this.phase}`;\r\n        });\r\n    }\r\n}", "import { CanvasElement } from '../canvas/canvasElement';\r\nimport { Collider } from './collider';\r\nimport { Level } from './level';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport abstract class Collisions {\r\n\r\n    public static overlap(aP: Vector2, aS: Vector2, bP: Vector2, bS: Vector2): boolean {\r\n        return aP.x < bP.x + bS.x && aP.x + aS.x > bP.x && aP.y < bP.y + bS.y && aP.y + aS.y > bP.y;\r\n    }\r\n\r\n    private static overlapDirection(aP: Vector2, aS: Vector2, bP: Vector2, bS: Vector2, v: Vector2): (['x', number] | ['y', number])[] {\r\n        let result: (['x', number] | ['y', number])[] = [];\r\n\r\n        if (Collisions.overlap(aP,aS,new Vector2(bP.x, bP.y + v.y),bS)) {\r\n            result.push(v.y > 0?['y', aP.y - bP.y - bS.y]: ['y', aP.y + aS.y - bP.y]); \r\n        }\r\n\r\n        if (Collisions.overlap(aP,aS,new Vector2(bP.x + v.x, bP.y),bS)) {\r\n            result.push(v.x < 0? ['x', aP.x + aS.x - bP.x]: ['x', aP.x - bP.x - bS.x]); \r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    static check(statics: Collider[], dynamic: Collider, velocity: Vector2): (['x', number] | ['y', number])[] {\r\n        const r:(['x', number] | ['y', number])[] = [];\r\n\r\n        statics.forEach((s) => {\r\n            r.push(...Collisions.overlapDirection(s.position.add(s.parent instanceof Level? Vector2.zero: s.parent.position ), s.size, dynamic.position, dynamic.size, velocity))\r\n        });\r\n\r\n        return r\r\n    }\r\n}", "import { Character } from '../../../utils/character';\r\nimport { Collisions } from '../../../utils/collisions';\r\nimport { CanvasController } from '../../../utils/controller';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Util } from '../../../utils/utils';\r\nimport { Vector2 } from '../../../utils/vector2';\r\n\r\nexport class SideContoller extends CanvasController {\r\n    private speed = 4;\r\n    private jumpHeight = 14;\r\n    private velocity: Vector2 = Vector2.zero;\r\n    public parent: Character;\r\n    public jumping: boolean = false;\r\n\r\n    keyDown(e: KeyboardEvent): void {\r\n        if (!this.jumping && this.mode.input.up) {\r\n            this.velocity.y = this.jumpHeight;\r\n            this.jumping = true;\r\n        }\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n        super.tick(obj);\r\n\r\n        this.velocity.x = Util.to0(this.velocity.x * 0.9, 0.1);\r\n        this.velocity.y = Util.to0(this.velocity.y - (9.8 * 0.02), 0.001);\r\n        this.velocity.x += this.mode.input.right ? 1 : this.mode.input.left ? -1 : 0 * this.speed;\r\n\r\n        const r = Collisions.check(this.level.colliders, this.parent, this.velocity.scale(obj.interval / 10));\r\n\r\n        if (r.length !== 0) {\r\n            r.sort(function (a, b) {\r\n                return Math.abs(a[1]) - Math.abs(b[1]);\r\n            });\r\n            if (r.find((a) => a[0] === \"x\")) {\r\n                this.velocity.x = r.find((a) => a[0] === \"x\")[1] / (obj.interval / 10);\r\n            }\r\n            if (r.find((a) => a[0] === \"y\")) {\r\n                if (this.velocity.y <= 0) {\r\n                    this.jumping = false;\r\n                }\r\n                this.velocity.y = r.find((a) => a[0] === \"y\")[1] / (obj.interval / 10);\r\n            }\r\n        }\r\n\r\n\r\n        this.parent.position = Vector2.clamp(\r\n            this.parent.position.add(this.velocity.scale(obj.interval / 10)),\r\n            this.level.size.subtract(this.parent.size),\r\n            Vector2.zero,\r\n        );\r\n    }\r\n}", "import { CanvasAnimation } from '../../../canvas/canvasAnimation';\r\nimport { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { PrepSpritesheet } from '../../../canvas/spritesheet';\r\nimport { Collider } from '../../../utils/collider';\r\nimport { ElementRelativity } from '../../../utils/elementPosition';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { CanvasDrawer } from './perspectiveDrawer';\r\n\r\n\r\nexport class Locomotive extends CanvasWrapper {\r\n    public background: CanvasAnimation;\r\n    public relativity: ElementRelativity = 'anchor';\r\n    constructor(public draw: CanvasDrawer, x: number, y: number = 100, w: number = 800, h: number = 400) {\r\n        super({\r\n            position: new Vector2(x, y),\r\n            size: new Vector2(w, h),\r\n        });\r\n    }\r\n\r\n    build() {\r\n\r\n        this.background = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url: '/img/train/sheet_train_v18.png',\r\n                factor: 6,\r\n                size: new Vector2(256, 64),\r\n                repeatX: 16,\r\n                interval: 20,\r\n            }, this.game),\r\n            position: new Vector2(0, 0),\r\n        });\r\n\r\n        const r = this.background.postRender.bind(this.background);\r\n        this.background.postRender = (c) => {\r\n            c.save();\r\n            r(c);\r\n            this.draw.perspectiveSwitchFunction(1, this);\r\n            r(c);\r\n            c.restore();\r\n        };\r\n\r\n        this.addChild(this.background);\r\n\r\n        ([\r\n            [0, 5, 256, 6], //hedgeBottom\r\n        ] as ([number, number, number, number, number?])[]).forEach(([x, y, w, h, t = 30]) => {\r\n            this.addChild(new Collider({\r\n                position: new Vector2(x * 6, y * 6),\r\n                size: new Vector2(w * 6, h * 6),\r\n                cornerTolerance: t,\r\n            }));\r\n        });\r\n\r\n\r\n    }\r\n}", "import { CanvasElement } from '../../../canvas/canvasElement';\r\n\r\nexport class CanvasDrawer {\r\n    public lastZ: number = 1;\r\n    public factor = 0.05;\r\n    public scale = 6;\r\n    public ctx: CanvasRenderingContext2D;\r\n    public perspectiveSwitchFunction: (n: number, target: CanvasElement) => void;\r\n\r\n    constructor(ctx: CanvasRenderingContext2D, perspectiveSwitchFunction: (n: number, target: CanvasElement) => void) {\r\n        this.ctx = ctx;\r\n        this.perspectiveSwitchFunction = perspectiveSwitchFunction;\r\n    }\r\n\r\n    public lineSequence(target: CanvasElement, fill: string, points: [number, number, number?][]) {\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            this.line(target, fill, points[i][0], points[i][1], points[i][2] || 0, points[i + 1][0], points[i + 1][1], points[i + 1][2] || 0);\r\n        }\r\n    }\r\n\r\n    public line(target: CanvasElement, fill: string, x: number, y: number, offset: number, x2: number, y2: number, offset2: number, style: 'x' | 'y' | 'z' = offset !== offset2 ? 'z' : x === x2 ? 'x' : 'y', w: number = 1): void {\r\n        this.ctx.fillStyle = fill;\r\n        this.ctx.save();\r\n\r\n        if (style === 'x') {\r\n            this.switchPerspective(target, offset);\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x) * this.scale, (y) * this.scale);\r\n            this.ctx.lineTo((x + w) * this.scale, (y) * this.scale);\r\n            this.switchPerspective(target, offset2);\r\n            this.ctx.lineTo((x2 + w) * this.scale, (y2) * this.scale);\r\n            this.ctx.lineTo((x2) * this.scale, (y2) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n        }\r\n\r\n        if (style === 'y') {\r\n            this.switchPerspective(target, offset);\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x) * this.scale, (y) * this.scale);\r\n            this.ctx.lineTo((x) * this.scale, (y + w) * this.scale);\r\n            this.switchPerspective(target, offset2);\r\n            this.ctx.lineTo((x2) * this.scale, (y2 + w) * this.scale);\r\n            this.ctx.lineTo((x2) * this.scale, (y2) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n        }\r\n\r\n        if (style === 'z') {\r\n            this.switchPerspective(target, offset);\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x) * this.scale, (y) * this.scale);\r\n            this.ctx.lineTo((x + w) * this.scale, (y) * this.scale);\r\n            this.switchPerspective(target, offset2);\r\n            this.ctx.lineTo((x2 + w) * this.scale, (y2) * this.scale);\r\n            this.ctx.lineTo((x2) * this.scale, (y2) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x2) * this.scale, (y2) * this.scale);\r\n            this.ctx.lineTo((x2) * this.scale, (y2 + w) * this.scale);\r\n            this.switchPerspective(target, offset);\r\n            this.ctx.lineTo((x) * this.scale, (y + w) * this.scale);\r\n            this.ctx.lineTo((x) * this.scale, (y) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x) * this.scale, (y + w) * this.scale);\r\n            this.ctx.lineTo((x + w) * this.scale, (y + w) * this.scale);\r\n            this.switchPerspective(target, offset2);\r\n            this.ctx.lineTo((x2 + w) * this.scale, (y2 + w) * this.scale);\r\n            this.ctx.lineTo((x2) * this.scale, (y2 + w) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo((x2 + w) * this.scale, (y2) * this.scale);\r\n            this.ctx.lineTo((x2 + w) * this.scale, (y2 + w) * this.scale);\r\n            this.switchPerspective(target, offset);\r\n            this.ctx.lineTo((x + w) * this.scale, (y + w) * this.scale);\r\n            this.ctx.lineTo((x + w) * this.scale, (y) * this.scale);\r\n            this.ctx.fill();\r\n            this.ctx.closePath();\r\n        }\r\n\r\n        this.ctx.restore();\r\n        this.lastZ = undefined;\r\n    }\r\n\r\n    private switchPerspective(target: CanvasElement, z: number) {\r\n\r\n        if (this.lastZ !== z) {\r\n            this.lastZ = z;\r\n            this.ctx.restore();\r\n            this.ctx.save();\r\n            this.perspectiveSwitchFunction(z, target);\r\n        }\r\n    }\r\n\r\n    public fill(target: CanvasElement, points: [number, number, number?][], fill: string, stroke?: string) {\r\n        this.ctx.beginPath();\r\n        this.ctx.save();\r\n\r\n        points.forEach((p, i) => {\r\n            this.switchPerspective(target, p[2] || 0);\r\n            this.ctx[i === 0 ? 'moveTo' : 'lineTo'](p[0] * this.scale, p[1] * this.scale);\r\n        });\r\n\r\n        this.ctx.fillStyle = fill;\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n        this.ctx.restore();\r\n\r\n        if (stroke) {\r\n            this.lineSequence(target, stroke, points);\r\n        }\r\n    }\r\n}", "import { CanvasImage } from '../../../canvas/canvasImage';\r\nimport { CanvasSquare } from '../../../canvas/canvasSquare';\r\nimport { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { PrepImage } from '../../../canvas/prepImage';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Vector2 } from '../../../utils/vector2';\r\n\r\nexport class Scroller extends CanvasWrapper {\r\n    public speed: number = 6\r\n    private layers: [CanvasImage, number, number][] = []\r\n\r\n\r\n    add(layer: CanvasImage, width: number, paralax: number) {\r\n        this.layers.push([layer, width, paralax]);\r\n        this.addChild(layer);\r\n    }\r\n\r\n    build() {\r\n        this.size = this.parent.size\r\n\r\n        this.addChild(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/sky.png', \r\n                factor: 5,\r\n            }, this.game),\r\n            worldSpaceParalaxX: -1,\r\n            position: new Vector2(800,100),\r\n        }));\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/far-clouds.png', \r\n                factor: 3,\r\n            }, this.game),\r\n            position: new Vector2(0,400),\r\n            worldSpaceParalaxX: -0.98,\r\n            repeatX:16,\r\n            opacity: 0.4,\r\n        }), 128*3, 0.05);\r\n        \r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/near-clouds.png', \r\n                factor: 3,\r\n            }, this.game),\r\n            position: new Vector2(0,400),\r\n            worldSpaceParalaxX: -0.96,\r\n            repeatX: 16,\r\n            opacity: 0.3,\r\n        }), 144*3, 0.10);\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/far-mountains.png', \r\n                factor: 3,\r\n            }, this.game),\r\n            position: new Vector2(0,350),\r\n            worldSpaceParalaxX: -0.94,\r\n            repeatX: 16,\r\n        }), 160*3, 0.15);\r\n\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/mountains.png', \r\n                factor: 4,\r\n            }, this.game),\r\n            position: new Vector2(0,250),\r\n            worldSpaceParalaxX: -0.92,\r\n            repeatX: 16,\r\n        }), 320*4, 0.17);\r\n        \r\n        this.addChild(new CanvasSquare({\r\n            color: '#2C2546',\r\n            size: new Vector2(this.width, 500),\r\n        }));\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/trees.png', \r\n                factor:2,\r\n            }, this.game),\r\n            position: new Vector2(0,500),\r\n            worldSpaceParalaxX: -0.5,\r\n\r\n            repeatX: 16,\r\n        }), 240*2, 0.6);\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/trees.png', \r\n                factor:3,\r\n            }, this.game),\r\n            position: new Vector2(0,320),\r\n            worldSpaceParalaxX: -0.38,\r\n            repeatX: 16,\r\n        }), 240*3, 0.8);\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/dusk/trees.png', \r\n                factor:7,\r\n            }, this.game),\r\n            position: new Vector2(0,-100),\r\n            worldSpaceParalaxX: -.26,\r\n            repeatX: 16,\r\n        }), 240*7, 0.95);\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/train/railtrack_v1.png', \r\n                factor: 7\r\n            }, this.game),\r\n            position: new Vector2(0,40),\r\n            repeatX: Math.ceil(this.level.width / 64*7 + 1),\r\n        }), 64*7, 1);\r\n\r\n        this.add(new CanvasImage({\r\n            image: new PrepImage({ \r\n                url: '/img/train/railtrack_v1.png', \r\n                factor: 7\r\n            }, this.game),\r\n            position: new Vector2(0,0),\r\n            repeatX: Math.ceil(this.level.width / 64*7 + 1),\r\n        }), 64*7, 1);\r\n\r\n    }\r\n    public tick(obj: TickerReturnData): void {\r\n        super.tick(obj);\r\n        this.layers.forEach(([layer, width, paralax]) => {\r\n            layer.x = (layer.x - (this.speed* paralax)) % width ;\r\n        });\r\n    }\r\n}", "import { CanvasElement, CanvasElementAttributes, CanvasElementType } from './canvasElement';\r\n\r\nexport type CanvasCustomAttributes = CanvasElementAttributes & {\r\n    render?: (c: CanvasRenderingContext2D)=>void,\r\n};\r\nexport class CanvasCustom extends CanvasElement {\r\n    public type: CanvasElementType = 'color';\r\n    constructor(attr: CanvasCustomAttributes = {}) {\r\n        super(attr);\r\n        this.render = attr.render.bind(this);\r\n    }\r\n}\r\n", "import { CanvasAnimation } from '../../../canvas/canvasAnimation';\r\nimport { PrepSpritesheet } from '../../../canvas/spritesheet';\r\nimport { Character } from '../../../utils/character';\r\nimport { CanvasController } from '../../../utils/controller';\r\nimport { ElementRelativity } from '../../../utils/elementPosition';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Vector2 } from '../../../utils/vector2';\r\n\r\nexport abstract class WalkingNPC extends Character {\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public animations: Record<string, CanvasAnimation> = {};\r\n    public phase: 'idle' | 'walk' = 'idle';\r\n    public scale: number;\r\n    public length: number = 1000;\r\n    public direction: -1 | 1 = 1;\r\n    public place: number = 0;\r\n    public waitTime: number = 0;\r\n    private speed = 1;\r\n    private frame: number = 0;\r\n    private waiting: boolean = false;\r\n    private startPosition: number = 0;\r\n\r\n    private specifics: [`${typeof this.phase}`, string, number, number, boolean][];\r\n\r\n    constructor({\r\n        scale = 5,\r\n        position = Vector2.zero,\r\n        controllers = [],\r\n        size,\r\n        idle,\r\n        idleCount,\r\n        idleInterval,\r\n        walk,\r\n        walkCount,\r\n        walkInterval,\r\n        width,\r\n        waitTime = 0\r\n    }: {\r\n        scale?: number;\r\n        position?: Vector2;\r\n        controllers?: CanvasController[];\r\n        idle: string,\r\n        size: Vector2,\r\n        idleCount: number,\r\n        idleInterval: number,\r\n        walk: string,\r\n        walkCount: number,\r\n        walkInterval: number,\r\n        width: number,\r\n        waitTime?: number,\r\n    }) {\r\n        super({\r\n            position,\r\n            controllers,\r\n            size: new Vector2(size.x, size.y),\r\n        });\r\n        this.scale = scale;\r\n        this.length = width;\r\n        this.startPosition = position.x;\r\n        this.waitTime = waitTime;\r\n        this.specifics = [\r\n            ['idle', idle, idleCount, idleInterval, false],\r\n            ['walk', walk, walkCount, walkInterval, true],\r\n        ];\r\n    }\r\n\r\n    build() {\r\n        this.specifics.forEach(([key, url, count, interval, loop]) => {\r\n            this.animations[key] = new CanvasAnimation({\r\n                animation: new PrepSpritesheet({\r\n                    url,\r\n                    factor: this.scale,\r\n                    size: this.size,\r\n                    repeatX: count,\r\n                    interval: interval,\r\n                }, this.game),\r\n                loop,\r\n            });\r\n\r\n            this.addChild(this.animations[key], true);\r\n        });\r\n        this.size = this.size.scale(this.scale);\r\n        this.go(this.direction);\r\n    }\r\n\r\n    public wait(){\r\n        this.waiting = true;\r\n        this.frame = 0;\r\n        this.animations.idle.frame = 0;\r\n        this.animations.idle.active = true;\r\n        this.animations.walk.active = false;\r\n    }\r\n\r\n    public go(d: -1 | 1) {\r\n        this.turn(d)\r\n        this.waiting = false;\r\n        this.animations.idle.active = false;\r\n        this.animations.walk.active = true;\r\n    }\r\n\r\n    public turn(d: -1 | 1) {\r\n        this.direction = d;\r\n        Object.entries(this.animations).forEach(([key, a]) => {\r\n            a.zoomX = this.direction;\r\n            a.x = this.size.x/2 * (this.direction*-1);\r\n        });\r\n    }\r\n\r\n    public tick(o: TickerReturnData) {\r\n        super.tick(o);\r\n\r\n        if (this.waiting) {\r\n            this.frame++;\r\n            if (this.frame > this.waitTime) {\r\n                this.go(this.direction *-1 as -1 | 1);\r\n            }\r\n        }\r\n\r\n        if (!this.waiting) {\r\n\r\n            this.place += (this.speed * o.interval / 10) * this.direction;\r\n            \r\n            if (this.place > this.length) {\r\n                this.place = this.length;\r\n                this.wait();\r\n            }\r\n            if (this.place < 0) {\r\n                this.place = 0;\r\n                this.wait();\r\n            }\r\n\r\n            this.x = this.place + this.startPosition;\r\n        }\r\n    }\r\n}", "import { CanvasController } from '../../../utils/controller';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { WalkingNPC } from './walkingNPC';\r\n\r\nexport class NPCOld extends WalkingNPC {\r\n    constructor({\r\n        scale = 5,\r\n        position = Vector2.zero,\r\n        controllers = [],\r\n        width\r\n    }: {\r\n        scale?: number;\r\n        position?: Vector2;\r\n        controllers?: CanvasController[];\r\n        width: number;\r\n    } ) {\r\n        super({\r\n            scale,\r\n            position,\r\n            controllers,\r\n            size: new Vector2(34, 42),\r\n            idle: '/img/spritesheets/oldman-idle.png',\r\n            idleCount: 8,\r\n            idleInterval: 40,\r\n            walk: '/img/spritesheets/oldman-walk.png',\r\n            walkCount: 12,\r\n            walkInterval: 30, \r\n            width,\r\n            waitTime: 40*8+200\r\n        });\r\n    }\r\n}", "import { CanvasAnimation } from '../../../canvas/canvasAnimation';\r\nimport { PrepSpritesheet } from '../../../canvas/spritesheet';\r\nimport { Character } from '../../../utils/character';\r\nimport { ElementRelativity } from '../../../utils/elementPosition';\r\nimport { Vector2 } from '../../../utils/vector2';\r\n\r\nexport abstract class IdleNPC extends Character {\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public animations: Record<string, CanvasAnimation> = {};\r\n    public scale: number;\r\n    private specifics: [string, number, number, number];\r\n\r\n    constructor({\r\n        scale = 5,\r\n        position = Vector2.zero,\r\n        size,\r\n        idle,\r\n        idleCount,\r\n        idleInterval,\r\n        direction = -1\r\n    }: {\r\n        scale?: number;\r\n        position?: Vector2;\r\n        size: Vector2,\r\n        idle: string,\r\n        idleCount: number,\r\n        idleInterval: number,\r\n        direction: number;\r\n    }) {\r\n        super({\r\n            position,\r\n            size: new Vector2(size.x, size.y),\r\n        });\r\n        this.scale = scale;\r\n        this.specifics = [idle, idleCount, idleInterval, direction];\r\n    }\r\n\r\n    build() {\r\n        const [url, count, interval, direction] = this.specifics;\r\n\r\n        this.animations.idle = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url,\r\n                factor: this.scale,\r\n                size: this.size,\r\n                repeatX: count,\r\n                interval: interval,\r\n            }, this.game),\r\n            zoom: new Vector2(direction, 1),\r\n            position: new Vector2(this.size.x * this.scale / 2 * direction * -1, 0),\r\n        });\r\n        this.addChild(this.animations.idle, true);\r\n\r\n        this.size = this.size.scale(this.scale);\r\n    }\r\n}", "import { Vector2 } from '../../../utils/vector2';\r\nimport { IdleNPC } from './idleNPC';\r\n\r\nexport class NPCWoman extends IdleNPC {\r\n    constructor({\r\n        scale = 5,\r\n        position = Vector2.zero,\r\n        direction = -1\r\n    }: {\r\n        scale?: number;\r\n        position?: Vector2;\r\n        direction?: number\r\n    } = {}) {\r\n        super({\r\n            scale,\r\n            position,\r\n            size: new Vector2(37, 46),\r\n            idle: '/img/spritesheets/woman-idle.png',\r\n            idleCount: 7,\r\n            idleInterval: 30,\r\n            direction: direction,\r\n        });\r\n    }\r\n}", "import { CanvasImage } from '../../../canvas/canvasImage';\r\nimport { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { PrepImage } from '../../../canvas/prepImage';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { CanvasDrawer } from './perspectiveDrawer';\r\nimport { TrainCar } from './trainCar';\r\n\r\nexport class TrainDoor extends CanvasWrapper {\r\n    public offset: Vector2;\r\n    public doorHeight = 45 *this.draw.scale;\r\n    public outer: CanvasImage;\r\n    public inner: CanvasImage;\r\n    \r\n    constructor(public draw: CanvasDrawer, public car: TrainCar) {\r\n        super();\r\n    }\r\n\r\n    public build(): void {\r\n        this.outer = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/door.png',\r\n                factor: 6,\r\n            }, this.game),\r\n            position: new Vector2(0, 0),\r\n        });\r\n        this.addChild(this.outer);\r\n        const or = this.outer.render.bind(this.outer);\r\n        this.outer.render = (c: CanvasRenderingContext2D) => {\r\n            if (this.offset.x + 17 *this.draw.scale * this.draw.factor > 0) {\r\n                c.save();\r\n                c.transform((this.offset.x + 17 *this.draw.scale * this.draw.factor) / this.outer.prepped.width, -(0.22), 0, 1 / (this.outer.prepped.height / this.doorHeight), 17 *this.draw.scale, 13 *this.draw.scale);\r\n                or(c);\r\n                c.restore();\r\n            }\r\n            if (this.offset.x + 223 *this.draw.scale * this.draw.factor < 0) {\r\n                c.save();\r\n                c.transform((this.offset.x + 223 *this.draw.scale * this.draw.factor) / this.outer.prepped.width, -(0.22), 0, 1 / (this.outer.prepped.height / this.doorHeight), 240 *this.draw.scale, 13 *this.draw.scale);\r\n                or(c);\r\n                c.restore();\r\n            }\r\n        };\r\n\r\n        this.inner = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/door2.png',\r\n                factor: 6,\r\n            }, this.game),\r\n            position: new Vector2(0, 0),\r\n        });\r\n        this.addChild(this.inner);\r\n        const ir = this.inner.render.bind(this.inner);\r\n        this.inner.render = (c: CanvasRenderingContext2D) => {\r\n            if (this.offset.x + 17 *this.draw.scale * this.draw.factor < 0) {\r\n                c.save();\r\n                c.transform((this.offset.x + 17 *this.draw.scale * this.draw.factor) / this.inner.prepped.width, -(0.22), 0, 1 / (this.inner.prepped.height / this.doorHeight), 17 *this.draw.scale, 14 *this.draw.scale);\r\n                ir(c);\r\n                c.restore();\r\n            }\r\n            if (this.offset.x + 223 *this.draw.scale * this.draw.factor > 0) {\r\n                c.save();\r\n                c.transform((this.offset.x + 223 *this.draw.scale * this.draw.factor) / this.inner.prepped.width, -(0.22), 0, 1 / (this.inner.prepped.height / this.doorHeight), 240 *this.draw.scale, 14 *this.draw.scale);\r\n                ir(c);\r\n                c.restore();\r\n            }\r\n        };\r\n    }\r\n}\r\n", "import { CanvasAnimation } from '../../../canvas/canvasAnimation';\r\nimport { CanvasCustom } from '../../../canvas/canvasCustom';\r\nimport { CanvasImage } from '../../../canvas/canvasImage';\r\nimport { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { PrepImage } from '../../../canvas/prepImage';\r\nimport { PrepSpritesheet } from '../../../canvas/spritesheet';\r\nimport { Character } from '../../../utils/character';\r\nimport { Collider } from '../../../utils/collider';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Util } from '../../../utils/utils';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { NPCOld } from '../npcs/npcOld';\r\nimport { NPCWoman } from '../npcs/npcWoman';\r\nimport { CanvasDrawer } from './perspectiveDrawer';\r\nimport { Train } from './train';\r\nimport { TrainDoor } from './trainDoor';\r\n\r\n\r\nexport class TrainCar extends CanvasWrapper {\r\n    public backgroundWrap: CanvasWrapper;\r\n    public door: TrainDoor;\r\n    public frame: CanvasImage;\r\n    public interior: CanvasImage;\r\n\r\n    public foregroundWrap: CanvasWrapper;\r\n    private wheels1: CanvasAnimation;\r\n    private wheels2: CanvasAnimation;\r\n    private wheels3: CanvasAnimation;\r\n    private wheels4: CanvasAnimation;\r\n    private wheelFrame: number = 0;\r\n    private foregroundFrame: CanvasImage;\r\n    private siding: CanvasImage;\r\n    public set offset(value: Vector2) {\r\n        this.door.offset = value;\r\n    }\r\n    constructor(public train: Train, public background: CanvasWrapper, public foreground: CanvasWrapper, public draw: CanvasDrawer, public count: number, public character: Character) {\r\n        super({\r\n            position: new Vector2(256 * draw.scale * count, 15 * draw.scale),\r\n            size: new Vector2(256 * draw.scale, 64 * draw.scale),\r\n        });\r\n    }\r\n\r\n    build() {\r\n        this.buildBackground();\r\n        this.buildForeground();\r\n    }\r\n\r\n    buildBackground() {\r\n\r\n        this.backgroundWrap = new CanvasWrapper({\r\n            position: new Vector2(256 * this.draw.scale * this.count, 15 * this.draw.scale),\r\n            size: new Vector2(256 * this.draw.scale, 64 * this.draw.scale),\r\n        });\r\n        this.background.addChild(this.backgroundWrap, true);\r\n\r\n        this.frame = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/Frame Back.png',\r\n                factor: this.draw.scale,\r\n            }, this.game),\r\n        });\r\n        this.backgroundWrap.addChild(this.frame);\r\n\r\n        this.interior = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/Interior.png',\r\n                factor: this.draw.scale,\r\n            }, this.game),\r\n        });\r\n        this.backgroundWrap.addChild(this.interior);\r\n        this.interior.relativity = 'anchor';\r\n\r\n        this.interior.addChild(new CanvasCustom({\r\n            render: (c) => {\r\n                const ce = ((this.width / 2 + this.x) - (this.mode.width / 2 - this.level.x));\r\n\r\n                this.draw.fill(this.backgroundWrap, [\r\n                    [9, 14],\r\n                    [247, 14],\r\n                    [247, ce + 762 > 0 ? 16 : 8, ce + 762 > 0 ? 1 : 0],\r\n                    [247, 8, 1],\r\n                    [9, 8, 1],\r\n                    [9, ce - 762 <= 0 ? 16 : 8, ce - 762 <= 0 ? 1 : 0],\r\n                    [9, 16],\r\n                ], '#58473f', '#140e14');\r\n\r\n                this.draw.fill(this.backgroundWrap, [\r\n                    [18, 16],\r\n                    [240, 16],\r\n                    [240, 16, 1],\r\n                    [18, 16, 1],\r\n                ], '#8f563b');\r\n\r\n                for (let index = 18; index < 239; index += 4) {\r\n                    this.draw.line(this.backgroundWrap, '#662736', 0 + index, 16, 0, 0 + index, 16, 1, 'x');\r\n                    this.draw.line(this.backgroundWrap, '#e37332', 1 + index, 16, 0, 1 + index, 16, 1, 'x');\r\n                    if (index % 8 === 2) {\r\n                        this.draw.line(this.backgroundWrap, '#662736', 0 + index, 16, 0.2, 0 + index, 16, 0.3, 'x', 4);\r\n                    }\r\n                    if (index % 8 === 6) {\r\n                        this.draw.line(this.backgroundWrap, '#662736', 0 + index, 16, 0.7, 0 + index, 16, 0.8, 'x', 4);\r\n                    }\r\n                }\r\n\r\n            }\r\n        }), true);\r\n\r\n        this.door = new TrainDoor(this.draw, this);\r\n        this.interior.addChild(this.door, true);\r\n\r\n        this.interior.addChild(new CanvasCustom({\r\n            render: (c) => {\r\n                const ce = ((this.width / 2 + this.x) - (this.mode.width / 2 - this.level.x));\r\n\r\n                this.draw.fill(this.backgroundWrap, [\r\n                    [8, 61, 0],\r\n                    [248, 61, 0],\r\n                    [248, ce + 762 > 0 ? 61 : 57, ce + 762 > 0 ? 1 : 0],\r\n                    [248, 57, 1],\r\n                    [8, 57, 1],\r\n                    [8, ce - 762 <= 0 ? 61 : 57, ce - 762 <= 0 ? 1 : 0],\r\n                    [8, 61, 0],\r\n                ], '#7e6970', '#140e14');\r\n\r\n                this.draw.line(this.backgroundWrap, '#140e14', 8, 57, 1, 8, 61, 1);\r\n                this.draw.line(this.backgroundWrap, '#140e14', 8, 61, 1, 248, 61, 1);\r\n                this.draw.line(this.backgroundWrap, '#140e14', 248, 61, 1, 248, 57, 1);\r\n                this.draw.line(this.backgroundWrap, '#140e14', 8, 61, 0, 8, 61, 1);\r\n                this.draw.line(this.backgroundWrap, '#140e14', 248, 61, 0, 248, 61, 1);\r\n\r\n            }\r\n        }), true);\r\n\r\n        // this.interior.addChild(new NPCBeard({\r\n        //     position: new Vector2(50*this.draw.scale,14*this.draw.scale),\r\n        // }), true);\r\n        this.interior.addChild(new NPCOld({\r\n            position: new Vector2(30 * this.draw.scale, 14 * this.draw.scale),\r\n            width: (this.width - (60 * this.draw.scale))\r\n        }), true);\r\n        this.interior.addChild(new NPCWoman({\r\n            position: new Vector2(12 * this.draw.scale, 13 * this.draw.scale),\r\n        }), true);\r\n        // this.interior.addChild(new NPCOld({\r\n        //     position: new Vector2(200*this.draw.scale,14*this.draw.scale),\r\n        // }), true);\r\n\r\n\r\n        ([\r\n            [0, 5, 256, 6], //hedgeBottom\r\n            [8, 50, 240, 8], //hedgeBottom\r\n        ] as ([number, number, number, number, number?])[]).forEach(([x, y, w, h, t = 80]) => {\r\n            this.backgroundWrap.addChild(new Collider({\r\n                position: new Vector2(x * this.draw.scale, y * this.draw.scale),\r\n                size: new Vector2(w * this.draw.scale, h * this.draw.scale),\r\n                cornerTolerance: t,\r\n            }));\r\n        });\r\n    }\r\n\r\n    buildForeground() {\r\n\r\n        this.foregroundWrap = new CanvasWrapper({\r\n            position: new Vector2(256 * this.draw.scale * this.count, 15 * this.draw.scale - 50),\r\n            size: new Vector2(256 * this.draw.scale, 64 * this.draw.scale),\r\n            relativity: 'anchor',\r\n            zoom: new Vector2(this.draw.factor+1, this.draw.factor+1),\r\n        });\r\n        this.foreground.addChild(this.foregroundWrap, true);\r\n\r\n        // this.y = this.y + 50;\r\n        this.wheels1 = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url: '/img/train/wheels.png',\r\n                factor: this.draw.scale,\r\n                size: new Vector2(16, 8),\r\n                repeatX: 4,\r\n                interval: 30,\r\n            }, this.game),\r\n            reverse: true,\r\n            position: new Vector2(24 * this.draw.scale, 0),\r\n        });\r\n        this.foregroundWrap.addChild(this.wheels1);\r\n\r\n        this.wheels2 = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url: '/img/train/wheels.png',\r\n                factor: this.draw.scale,\r\n                size: new Vector2(16, 8),\r\n                repeatX: 4,\r\n                interval: 30,\r\n            }, this.game),\r\n            reverse: true,\r\n            position: new Vector2(48 * this.draw.scale, 0),\r\n        });\r\n        this.foregroundWrap.addChild(this.wheels2);\r\n        this.wheels2.frame = 20;\r\n\r\n        this.wheels3 = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url: '/img/train/wheels.png',\r\n                factor: this.draw.scale,\r\n                size: new Vector2(16, 8),\r\n                repeatX: 4,\r\n                interval: 30,\r\n            }, this.game),\r\n            reverse: true,\r\n            position: new Vector2(192 * this.draw.scale, 0),\r\n        });\r\n        this.foregroundWrap.addChild(this.wheels3);\r\n        this.wheels3.frame = 2 * 20;\r\n\r\n        this.wheels4 = new CanvasAnimation({\r\n            animation: new PrepSpritesheet({\r\n                url: '/img/train/wheels.png',\r\n                factor: this.draw.scale,\r\n                size: new Vector2(16, 8),\r\n                repeatX: 4,\r\n                interval: 30,\r\n            }, this.game),\r\n            reverse: true,\r\n            position: new Vector2(216 * this.draw.scale, 0),\r\n        });\r\n        this.foregroundWrap.addChild(this.wheels4);\r\n        this.wheels4.frame = 3 * 20;\r\n\r\n        this.foregroundFrame = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/Frane Front.png',\r\n                factor: this.draw.scale,\r\n            }, this.game),\r\n        });\r\n        this.foregroundWrap.addChild(this.foregroundFrame);\r\n\r\n        this.siding = new CanvasImage({\r\n            image: new PrepImage({\r\n                url: '/img/train/Exterior.png',\r\n                factor: this.draw.scale,\r\n            }, this.game),\r\n        });\r\n        this.foregroundWrap.addChild(this.siding);\r\n\r\n        this.wheelFrame = 50 * this.count;\r\n    }\r\n\r\n\r\n    public tick(obj: TickerReturnData): void {\r\n        super.tick(obj);\r\n        const f = 200;\r\n        [this.wheels4, this.wheels2, this.wheels3, this.wheels1].forEach((w) => {\r\n            w.interval = 160 - Math.round(this.train.speed / this.train.maxSpeed * 120);\r\n        });\r\n        this.wheelFrame = (this.wheelFrame + 1) % 200;\r\n        this.wheels4.y = (this.wheelFrame > 0 && this.wheelFrame < 30) ? this.draw.scale : 0;\r\n        this.wheels3.y = (this.wheelFrame > 20 && this.wheelFrame < 50) ? this.draw.scale : 0;\r\n        this.wheels2.y = (this.wheelFrame > 0 && this.wheelFrame < 30) ? this.draw.scale : 0;\r\n        this.wheels1.y = (this.wheelFrame > 20 && this.wheelFrame < 50) ? this.draw.scale : 0;\r\n\r\n        this.foregroundFrame.y = (this.wheelFrame > 40 && this.wheelFrame < 70) ? this.draw.scale / 3 : 0;\r\n        this.siding.y = (this.wheelFrame > 40 && this.wheelFrame < 70) ? this.draw.scale / 3 : 0;\r\n        this.frame.y = (this.wheelFrame > 40 && this.wheelFrame < 70) ? this.draw.scale / 3 : 0;\r\n        this.interior.y = (this.wheelFrame > 40 && this.wheelFrame < 70) ? this.draw.scale / 3 : 0;\r\n\r\n        this.foregroundWrap.x = this.backgroundWrap.x -\r\n            this.backgroundWrap.width *\r\n            (this.draw.factor / 2) + (\r\n                (this.width / 2 + this.x) -\r\n                (this.mode.width / 2 - this.level.x)\r\n            ) * this.draw.factor;\r\n\r\n        this.offset = this.foregroundWrap.position.subtract(this.backgroundWrap.position);\r\n\r\n        if (this.character.y < this.y + this.height-60) {\r\n            this.siding.opacity = Util.clamp((Math.abs((this.width / 2 + this.x) - (this.character.width / 2 + this.character.x)) - (this.width / 2 - f)) / f, 0, 1);\r\n        }\r\n\r\n    }\r\n}", "import { CanvasColorBackground } from '../../../canvas/canvasBackground';\r\nimport { CanvasElement } from '../../../canvas/canvasElement';\r\nimport { CanvasImage } from '../../../canvas/canvasImage';\r\nimport { CanvasPrepSprites } from '../../../canvas/canvasPrepSprites';\r\nimport { CanvasWrapper } from '../../../canvas/canvasWrapper';\r\nimport { DomText } from '../../../dom/domText';\r\nimport { Collider } from '../../../utils/collider';\r\nimport { Level } from '../../../utils/level';\r\nimport { TickerReturnData } from '../../../utils/ticker';\r\nimport { Vector2 } from '../../../utils/vector2';\r\nimport { SideCharacter } from '../character/SideCharacter';\r\nimport { SideContoller } from '../character/SideController';\r\nimport { Locomotive } from './locomotive';\r\nimport { CanvasDrawer } from './perspectiveDrawer';\r\nimport { Scroller } from './scrolling';\r\nimport { TrainCar } from './trainCar';\r\n\r\n\r\nexport class Train extends Level {\r\n    public start = Vector2.zero;\r\n    public background = new CanvasColorBackground('#46345E');\r\n    public character: SideCharacter;\r\n    public sprites: CanvasPrepSprites;\r\n    public mo: DomText;\r\n    public ground: CanvasImage;\r\n    public speed: number = 0;\r\n    public maxSpeed: number = 10;\r\n    public env: Scroller;\r\n    public frame: number = 0;\r\n    public canvasDrawer: CanvasDrawer;\r\n    backgroundLayer: CanvasWrapper;\r\n    foregroundLayer: CanvasWrapper;\r\n\r\n    constructor() {\r\n        super({\r\n            hasDom: true,\r\n            size: new Vector2((256 * 6) * 6, 1200),\r\n        });\r\n    }\r\n\r\n    perpective(z: number, target: CanvasElement) {\r\n        this.game.ctx.scale(1 + (this.canvasDrawer.factor * z), 1 + (this.canvasDrawer.factor * z));\r\n        this.game.ctx.translate((-target.width * (this.canvasDrawer.factor / 2)) * z, 0);\r\n        this.game.ctx.translate(\r\n            (((target.width / 2 + target.x) - (this.mode.width / 2 - this.level.x)) * this.canvasDrawer.factor) * z,\r\n            -50 * z\r\n        );\r\n    }\r\n\r\n    build() {\r\n        this.canvasDrawer = new CanvasDrawer(this.game.ctx, this.perpective.bind(this));\r\n        this.start = new Vector2((256 * this.canvasDrawer.scale) * 1.5, 12 * this.canvasDrawer.scale + 90);\r\n        this.addChild(this.background);\r\n\r\n        this.env = new Scroller();\r\n        this.addChild(this.env);\r\n\r\n        this.backgroundLayer = new CanvasWrapper();\r\n        this.addChild(this.backgroundLayer);\r\n\r\n        this.character = new SideCharacter({\r\n            position: this.start,\r\n            controllers: [new SideContoller()],\r\n        });\r\n        this.addChild(this.character);\r\n        \r\n        this.foregroundLayer = new CanvasWrapper();\r\n        this.addChild(this.foregroundLayer);\r\n\r\n        for (let index = 1; index < 4; index++) {\r\n            this.addChild(new TrainCar(this, this.backgroundLayer, this.foregroundLayer, this.canvasDrawer, index, this.character));\r\n        }\r\n\r\n        const loco = new Locomotive(this.canvasDrawer, (256 * this.canvasDrawer.scale) * 4, 90, 256 * this.canvasDrawer.scale, 64 * this.canvasDrawer.scale);\r\n        this.foregroundLayer.addChild(loco);\r\n\r\n        (([\r\n            [0, 0, this.width, 35],\r\n        ]) as ([number, number, number, number, number?])[]).forEach(([x, y, w, h, t = 30]) => {\r\n            this.addChild(new Collider({\r\n                position: new Vector2(x, y),\r\n                size: new Vector2(w, h),\r\n            }));\r\n        });\r\n    }\r\n\r\n    public tick(obj: TickerReturnData): void {\r\n        super.tick(obj);\r\n        this.frame = (this.frame + 1) % (3000 * Math.PI);\r\n        this.speed = +(Math.sin(this.frame / 3000) * this.maxSpeed).toPrecision(2);\r\n        this.env.speed = this.speed;\r\n    }\r\n}", "import { CanvasColorBackground } from '../../canvas/canvasBackground';\r\nimport { Mode } from '../../utils/mode';\r\nimport { Train } from './levels/train';\r\n\r\nexport class SideMode extends Mode{\r\n    public constructor() {\r\n        super({hasDom: true});\r\n    }\r\n\r\n    build(){\r\n        super.build();\r\n        this.addChild(new CanvasColorBackground('#272727'))\r\n        this.addLevel('platform', new Train());\r\n        this.switchLevel('platform');\r\n    }\r\n\r\n}", "import { DomElement } from '../../dom/domElement';\r\nimport { DomText } from \"../../dom/domText\";\r\nimport { Vector2 } from '../vector2';\r\n\r\nexport class Loader extends DomElement<'div'> {\r\n    bar: DomElement<'div'>;\r\n    barBackground: DomElement<'div'>;\r\n    text: DomText;\r\n    public constructor( ) {\r\n        super('div',{\r\n            position: new Vector2(5, 5),\r\n            size: new Vector2(600, 70),\r\n            background: '#272727',\r\n        });\r\n\r\n        this.bar = new DomElement('div', {\r\n            size: new Vector2(600, 70),\r\n            background: '#80808070',\r\n        })\r\n        this.dom.appendChild(this.bar.dom);\r\n\r\n        this.text = new DomText({\r\n            text: '',\r\n            fontSize: 35,\r\n            fontWeight: 900,\r\n            color: 'white',\r\n            size: new Vector2(600, 70),\r\n            position: new Vector2(30, -10),\r\n            fontFamily: 'monospace',\r\n        });\r\n        this.dom.appendChild(this.text.dom);\r\n    }\r\n\r\n    public update(value: number, total: number){\r\n        this.text.text = `loaded ${total - value} out of ${total} assets`;\r\n        this.bar.width = 600 * (total - value) / total;\r\n    }\r\n}", "import { CanvasWrapper } from './canvas/canvasWrapper';\r\nimport { FPS } from './utils/debug/fps';\r\nimport { SnakeMode } from './modes/snakeMode/snakeMode';\r\nimport { Ticker, TickerReturnData } from './utils/ticker';\r\nimport { Event } from './utils/event';\r\nimport { Vector2 } from './utils/vector2';\r\nimport { Input } from './utils/input';\r\nimport { Mode } from './utils/mode';\r\nimport { RPGMode } from './modes/rpg/rpgMode';\r\nimport { DomButton } from './dom/domButton';\r\nimport { ElementRelativity } from './utils/elementPosition';\r\nimport { DomCanvas } from './dom/domCanvas';\r\nimport { SideMode } from './modes/side/SideMode';\r\nimport { DomText } from './dom/domText';\r\nimport { Loader } from './utils/debug/loader';\r\n\r\nexport class Game extends CanvasWrapper {\r\n    public relativity: ElementRelativity = 'anchor';\r\n    public ticker: Ticker;\r\n    public renderer: DomCanvas;\r\n    private fps: FPS;\r\n    public modes: Record<string, Mode> = {};\r\n    public game = this;\r\n    public ctx: CanvasRenderingContext2D;\r\n    public input: Input;\r\n    public ready: boolean = false;\r\n    private _waitCount: number = 0;\r\n    private readyToStart: boolean = false;\r\n    private started: boolean = false;\r\n    private loader: Loader;\r\n    public total: number = 0;\r\n    public get waitCount(): number {\r\n        return this._waitCount;\r\n    }\r\n    public set waitCount(value: number) {\r\n        if (value > this._waitCount){\r\n            this.total++;\r\n        }\r\n        if (!this.started){\r\n            if (value === 0 && this.readyToStart) {\r\n                this.start();\r\n            } else {\r\n                this.loader.update(value, this.total);\r\n            }\r\n        }\r\n        this._waitCount = value;\r\n\r\n    }\r\n\r\n    public constructor() {\r\n        super({ hasDom: true });\r\n        this.game = this;\r\n        this.addEvent(new Event('resize'));\r\n        window.addEventListener(\"resize\", () => { this.resize(); });\r\n        this.build();\r\n    }\r\n    build() {\r\n        this.loader = new Loader();\r\n        this.addChild(this.loader);\r\n\r\n        this.renderer = new DomCanvas();\r\n        this.addChild(this.renderer);\r\n\r\n        this.setupModes();\r\n        this.ticker = new Ticker();\r\n        this.ticker.add(this.tick.bind(this));\r\n        this.input = new Input(this);\r\n        this.debug();\r\n        this.fps.visible = false;\r\n\r\n        if (this.waitCount === 0) {\r\n            this.start();\r\n        } else {\r\n            this.readyToStart = true;\r\n        }\r\n        this.resize();\r\n    }\r\n\r\n    public tick(obj: TickerReturnData) {\r\n        this.renderer.tick(obj);\r\n    }\r\n\r\n    private setupModes() {\r\n        // this.addMode('snakes', new SnakeMode());\r\n        // this.addMode('rpg', new RPGMode());\r\n        this.addMode('side', new SideMode());\r\n\r\n        this.switchMode('side');\r\n    }\r\n\r\n    resize() {\r\n        this.game.getEvent('resize').alert(new Vector2(document.body.clientWidth, document.body.clientHeight));\r\n    }\r\n\r\n    private debug() {\r\n        this.fps = new FPS();\r\n        this.dom.appendChild(this.fps);\r\n        this.ticker.add(this.fps.tick.bind(this.fps));\r\n    }\r\n\r\n    protected addMode(s: string, mode: Mode) {\r\n        this.modes[s] = mode;\r\n        mode.parent = this;\r\n        mode.mode = mode;\r\n        this.renderer.addMode(mode);\r\n    }\r\n\r\n    public switchMode(s: string) {\r\n        document.title = s;\r\n        Object.entries(this.modes).forEach(([key, mode]) => {\r\n            mode.active = key === s;\r\n            mode.visible = key === s;\r\n            mode.dom ? mode.dom.visible = key === s : null;\r\n        });\r\n    }\r\n\r\n    public start() {\r\n        this.started = true;\r\n        this.loader.visible = false;\r\n        this.fps.visible = true;\r\n        this.ticker.start();\r\n        // this.addChild(new DomButton({\r\n        //     text: 'RPG',\r\n        //     fontSize: 39,\r\n        //     fontWeight: 1000,\r\n        //     color: 'white',\r\n        //     position: new Vector2(130, 5),\r\n        //     size: new Vector2(65, 50),\r\n        //     background: '#ff00ffaa',\r\n        //     fontFamily: 'monospace',\r\n        //     padding: [0, 10, 0, 10],\r\n        //     onClick: () => {\r\n        //         this.switchMode('rpg');\r\n        //     }\r\n        // }));\r\n        // this.addChild(new DomButton({\r\n        //     text: 'SNAKES',\r\n        //     fontSize: 39,\r\n        //     fontWeight: 1000,\r\n        //     color: 'white',\r\n        //     position: new Vector2(220, 5),\r\n        //     size: new Vector2(130, 50),\r\n        //     background: '#ff00ffaa',\r\n        //     fontFamily: 'monospace',\r\n        //     padding: [0, 10, 0, 10],\r\n        //     onClick: () => {\r\n        //         this.switchMode('snakes');\r\n        //     }\r\n        // }));\r\n        // this.addChild(new DomButton({\r\n        //     text: 'TRAIN',\r\n        //     fontSize: 39,\r\n        //     fontWeight: 1000,\r\n        //     color: 'white',\r\n        //     position: new Vector2(375, 5),\r\n        //     size: new Vector2(130, 50),\r\n        //     background: '#ff00ffaa',\r\n        //     fontFamily: 'monospace',\r\n        //     padding: [0, 10, 0, 10],\r\n        //     onClick: () => {\r\n        //         this.switchMode('side');\r\n        //     }\r\n        // }));\r\n    }\r\n}\r\n\r\n\r\n", "import { Game } from \"./game\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\r\n    document.body.appendChild(new Game().dom.dom);;\r\n});"],
  "mappings": "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",
  "names": []
}
